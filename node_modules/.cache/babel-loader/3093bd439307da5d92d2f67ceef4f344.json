{"ast":null,"code":"var __extends = this && this.__extends || function () {\n  var extendStatics = function (d, b) {\n    extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    };\n\n    return extendStatics(d, b);\n  };\n\n  return function (d, b) {\n    extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n\nvar __decorate = this && this.__decorate || function (decorators, target, key, desc) {\n  var c = arguments.length,\n      r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc,\n      d;\n  if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n  return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\n\nimport { Component, Property, ChildProperty, Event, append, compile } from '@syncfusion/ej2-base';\nimport { EventHandler, Touch, Browser, Animation as PopupAnimation } from '@syncfusion/ej2-base';\nimport { isNullOrUndefined, getUniqueID, formatUnit, select, selectAll } from '@syncfusion/ej2-base';\nimport { attributes, closest, removeClass, addClass, remove } from '@syncfusion/ej2-base';\nimport { NotifyPropertyChanges, Complex, SanitizeHtmlHelper } from '@syncfusion/ej2-base';\nimport { Popup } from '../popup/popup';\nimport { calculatePosition } from '../common/position';\nimport { isCollide, fit } from '../common/collision';\nvar TOUCHEND_HIDE_DELAY = 1500;\nvar TAPHOLD_THRESHOLD = 500;\nvar SHOW_POINTER_TIP_GAP = 0;\nvar HIDE_POINTER_TIP_GAP = 8;\nvar MOUSE_TRAIL_GAP = 2;\nvar POINTER_ADJUST = 2;\nvar ROOT = 'e-tooltip';\nvar RTL = 'e-rtl';\nvar DEVICE = 'e-bigger';\nvar ICON = 'e-icons';\nvar CLOSE = 'e-tooltip-close';\nvar TOOLTIP_WRAP = 'e-tooltip-wrap';\nvar CONTENT = 'e-tip-content';\nvar ARROW_TIP = 'e-arrow-tip';\nvar ARROW_TIP_OUTER = 'e-arrow-tip-outer';\nvar ARROW_TIP_INNER = 'e-arrow-tip-inner';\nvar TIP_BOTTOM = 'e-tip-bottom';\nvar TIP_TOP = 'e-tip-top';\nvar TIP_LEFT = 'e-tip-left';\nvar TIP_RIGHT = 'e-tip-right';\nvar POPUP_ROOT = 'e-popup';\nvar POPUP_OPEN = 'e-popup-open';\nvar POPUP_CLOSE = 'e-popup-close';\nvar POPUP_LIB = 'e-lib';\nvar HIDE_POPUP = 'e-hidden';\nvar POPUP_CONTAINER = 'e-tooltip-popup-container';\n\nvar Animation =\n/** @class */\nfunction (_super) {\n  __extends(Animation, _super);\n\n  function Animation() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  __decorate([Property({\n    effect: 'FadeIn',\n    duration: 150,\n    delay: 0\n  })], Animation.prototype, \"open\", void 0);\n\n  __decorate([Property({\n    effect: 'FadeOut',\n    duration: 150,\n    delay: 0\n  })], Animation.prototype, \"close\", void 0);\n\n  return Animation;\n}(ChildProperty);\n\nexport { Animation };\n/**\n * Represents the Tooltip component that displays a piece of information about the target element on mouse hover.\n * ```html\n * <div id=\"tooltip\">Show Tooltip</div>\n * ```\n * ```typescript\n * <script>\n *   var tooltipObj = new Tooltip({ content: 'Tooltip text' });\n *   tooltipObj.appendTo(\"#tooltip\");\n * </script>\n * ```\n */\n\nvar Tooltip =\n/** @class */\nfunction (_super) {\n  __extends(Tooltip, _super);\n  /* eslint-enable */\n\n  /**\n   * Constructor for creating the Tooltip Component\n   *\n   * @param {TooltipModel} options - specifies the options for the constructor\n   * @param {string| HTMLElement} element - specifies the element for the constructor\n   *\n   */\n\n\n  function Tooltip(options, element) {\n    var _this = _super.call(this, options, element) || this;\n\n    _this.mouseMoveEvent = null;\n    _this.mouseMoveTarget = null;\n    _this.containerElement = null;\n    _this.isBodyContainer = true;\n    return _this;\n  }\n\n  Tooltip.prototype.initialize = function () {\n    this.formatPosition();\n    addClass([this.element], ROOT);\n  };\n\n  Tooltip.prototype.formatPosition = function () {\n    var _a, _b;\n\n    if (this.position.indexOf('Top') === 0 || this.position.indexOf('Bottom') === 0) {\n      _a = this.position.split(/(?=[A-Z])/), this.tooltipPositionY = _a[0], this.tooltipPositionX = _a[1];\n    } else {\n      _b = this.position.split(/(?=[A-Z])/), this.tooltipPositionX = _b[0], this.tooltipPositionY = _b[1];\n    }\n  };\n\n  Tooltip.prototype.renderArrow = function () {\n    this.setTipClass(this.position);\n    var tip = this.createElement('div', {\n      className: ARROW_TIP + ' ' + this.tipClass\n    });\n    tip.appendChild(this.createElement('div', {\n      className: ARROW_TIP_OUTER + ' ' + this.tipClass\n    }));\n    tip.appendChild(this.createElement('div', {\n      className: ARROW_TIP_INNER + ' ' + this.tipClass\n    }));\n    this.tooltipEle.appendChild(tip);\n  };\n\n  Tooltip.prototype.setTipClass = function (position) {\n    if (position.indexOf('Right') === 0) {\n      this.tipClass = TIP_LEFT;\n    } else if (position.indexOf('Bottom') === 0) {\n      this.tipClass = TIP_TOP;\n    } else if (position.indexOf('Left') === 0) {\n      this.tipClass = TIP_RIGHT;\n    } else {\n      this.tipClass = TIP_BOTTOM;\n    }\n  };\n\n  Tooltip.prototype.renderPopup = function (target) {\n    var elePos = this.mouseTrail ? {\n      top: 0,\n      left: 0\n    } : this.getTooltipPosition(target);\n    this.tooltipEle.classList.remove(POPUP_LIB);\n    this.popupObj = new Popup(this.tooltipEle, {\n      height: this.height,\n      width: this.width,\n      position: {\n        X: elePos.left,\n        Y: elePos.top\n      },\n      enableRtl: this.enableRtl,\n      open: this.openPopupHandler.bind(this),\n      close: this.closePopupHandler.bind(this)\n    });\n  };\n\n  Tooltip.prototype.getTooltipPosition = function (target) {\n    this.tooltipEle.style.display = 'block';\n    var pos = calculatePosition(target, this.tooltipPositionX, this.tooltipPositionY, !this.isBodyContainer, this.isBodyContainer ? null : this.containerElement.getBoundingClientRect());\n    var offsetPos = this.calculateTooltipOffset(this.position);\n    var collisionPosition = this.calculateElementPosition(pos, offsetPos);\n    var collisionLeft = collisionPosition[0];\n    var collisionTop = collisionPosition[1];\n    var elePos = this.collisionFlipFit(target, collisionLeft, collisionTop);\n    this.tooltipEle.style.display = '';\n    return elePos;\n  };\n\n  Tooltip.prototype.windowResize = function () {\n    this.reposition(this.findTarget());\n  };\n\n  Tooltip.prototype.reposition = function (target) {\n    if (this.popupObj && target) {\n      var elePos = this.getTooltipPosition(target);\n      this.popupObj.position = {\n        X: elePos.left,\n        Y: elePos.top\n      };\n      this.popupObj.dataBind();\n    }\n  };\n\n  Tooltip.prototype.openPopupHandler = function () {\n    if (!this.mouseTrail && this.needTemplateReposition()) {\n      this.reposition(this.findTarget());\n    }\n\n    this.trigger('afterOpen', this.tooltipEventArgs);\n  };\n\n  Tooltip.prototype.closePopupHandler = function () {\n    this.clearTemplate(['content']);\n    this.clear();\n    this.trigger('afterClose', this.tooltipEventArgs);\n  };\n\n  Tooltip.prototype.calculateTooltipOffset = function (position) {\n    var pos = {\n      top: 0,\n      left: 0\n    };\n    var tooltipEleWidth = this.tooltipEle.offsetWidth;\n    var tooltipEleHeight = this.tooltipEle.offsetHeight;\n    var arrowEle = select('.' + ARROW_TIP, this.tooltipEle);\n    var tipWidth = arrowEle ? arrowEle.offsetWidth : 0;\n    var tipHeight = arrowEle ? arrowEle.offsetHeight : 0;\n    var tipAdjust = this.showTipPointer ? SHOW_POINTER_TIP_GAP : HIDE_POINTER_TIP_GAP;\n    var tipHeightAdjust = tipHeight / 2 + POINTER_ADJUST + (this.tooltipEle.offsetHeight - this.tooltipEle.clientHeight);\n    var tipWidthAdjust = tipWidth / 2 + POINTER_ADJUST + (this.tooltipEle.offsetWidth - this.tooltipEle.clientWidth);\n\n    if (this.mouseTrail) {\n      tipAdjust += MOUSE_TRAIL_GAP;\n    }\n\n    switch (position) {\n      case 'RightTop':\n        pos.left += tipWidth + tipAdjust;\n        pos.top -= tooltipEleHeight - tipHeightAdjust;\n        break;\n\n      case 'RightCenter':\n        pos.left += tipWidth + tipAdjust;\n        pos.top -= tooltipEleHeight / 2;\n        break;\n\n      case 'RightBottom':\n        pos.left += tipWidth + tipAdjust;\n        pos.top -= tipHeightAdjust;\n        break;\n\n      case 'BottomRight':\n        pos.top += tipHeight + tipAdjust;\n        pos.left -= tipWidthAdjust;\n        break;\n\n      case 'BottomCenter':\n        pos.top += tipHeight + tipAdjust;\n        pos.left -= tooltipEleWidth / 2;\n        break;\n\n      case 'BottomLeft':\n        pos.top += tipHeight + tipAdjust;\n        pos.left -= tooltipEleWidth - tipWidthAdjust;\n        break;\n\n      case 'LeftBottom':\n        pos.left -= tipWidth + tooltipEleWidth + tipAdjust;\n        pos.top -= tipHeightAdjust;\n        break;\n\n      case 'LeftCenter':\n        pos.left -= tipWidth + tooltipEleWidth + tipAdjust;\n        pos.top -= tooltipEleHeight / 2;\n        break;\n\n      case 'LeftTop':\n        pos.left -= tipWidth + tooltipEleWidth + tipAdjust;\n        pos.top -= tooltipEleHeight - tipHeightAdjust;\n        break;\n\n      case 'TopLeft':\n        pos.top -= tooltipEleHeight + tipHeight + tipAdjust;\n        pos.left -= tooltipEleWidth - tipWidthAdjust;\n        break;\n\n      case 'TopRight':\n        pos.top -= tooltipEleHeight + tipHeight + tipAdjust;\n        pos.left -= tipWidthAdjust;\n        break;\n\n      default:\n        pos.top -= tooltipEleHeight + tipHeight + tipAdjust;\n        pos.left -= tooltipEleWidth / 2;\n        break;\n    }\n\n    pos.left += this.offsetX;\n    pos.top += this.offsetY;\n    return pos;\n  };\n\n  Tooltip.prototype.updateTipPosition = function (position) {\n    var selEle = selectAll('.' + ARROW_TIP + ',.' + ARROW_TIP_OUTER + ',.' + ARROW_TIP_INNER, this.tooltipEle);\n    var removeList = [TIP_BOTTOM, TIP_TOP, TIP_LEFT, TIP_RIGHT];\n    removeClass(selEle, removeList);\n    this.setTipClass(position);\n    addClass(selEle, this.tipClass);\n  };\n\n  Tooltip.prototype.adjustArrow = function (target, position, tooltipPositionX, tooltipPositionY) {\n    if (this.showTipPointer === false) {\n      return;\n    }\n\n    this.updateTipPosition(position);\n    var leftValue;\n    var topValue;\n    this.tooltipEle.style.display = 'block';\n    var tooltipWidth = this.tooltipEle.clientWidth;\n    var tooltipHeight = this.tooltipEle.clientHeight;\n    var arrowEle = select('.' + ARROW_TIP, this.tooltipEle);\n    var arrowInnerELe = select('.' + ARROW_TIP_INNER, this.tooltipEle);\n    var tipWidth = arrowEle.offsetWidth;\n    var tipHeight = arrowEle.offsetHeight;\n    this.tooltipEle.style.display = '';\n\n    if (this.tipClass === TIP_BOTTOM || this.tipClass === TIP_TOP) {\n      if (this.tipClass === TIP_BOTTOM) {\n        topValue = '99.9%'; // Arrow icon aligned -2px height from ArrowOuterTip div\n\n        arrowInnerELe.style.top = '-' + (tipHeight - 2) + 'px';\n      } else {\n        topValue = -(tipHeight - 1) + 'px'; // Arrow icon aligned -6px height from ArrowOuterTip div\n\n        arrowInnerELe.style.top = '-' + (tipHeight - 6) + 'px';\n      }\n\n      if (target) {\n        var tipPosExclude = tooltipPositionX !== 'Center' || tooltipWidth > target.offsetWidth || this.mouseTrail;\n\n        if (tipPosExclude && tooltipPositionX === 'Left' || !tipPosExclude && this.tipPointerPosition === 'End') {\n          leftValue = tooltipWidth - tipWidth - POINTER_ADJUST + 'px';\n        } else if (tipPosExclude && tooltipPositionX === 'Right' || !tipPosExclude && this.tipPointerPosition === 'Start') {\n          leftValue = POINTER_ADJUST + 'px';\n        } else {\n          leftValue = tooltipWidth / 2 - tipWidth / 2 + 'px';\n        }\n      }\n    } else {\n      if (this.tipClass === TIP_RIGHT) {\n        leftValue = '99.9%'; // Arrow icon aligned -2px left from ArrowOuterTip div\n\n        arrowInnerELe.style.left = '-' + (tipWidth - 2) + 'px';\n      } else {\n        leftValue = -(tipWidth - 1) + 'px'; // Arrow icon aligned -2px from ArrowOuterTip width\n\n        arrowInnerELe.style.left = -tipWidth + (tipWidth - 2) + 'px';\n      }\n\n      var tipPosExclude = tooltipPositionY !== 'Center' || tooltipHeight > target.offsetHeight || this.mouseTrail;\n\n      if (tipPosExclude && tooltipPositionY === 'Top' || !tipPosExclude && this.tipPointerPosition === 'End') {\n        topValue = tooltipHeight - tipHeight - POINTER_ADJUST + 'px';\n      } else if (tipPosExclude && tooltipPositionY === 'Bottom' || !tipPosExclude && this.tipPointerPosition === 'Start') {\n        topValue = POINTER_ADJUST + 'px';\n      } else {\n        topValue = tooltipHeight / 2 - tipHeight / 2 + 'px';\n      }\n    }\n\n    arrowEle.style.top = topValue;\n    arrowEle.style.left = leftValue;\n  };\n\n  Tooltip.prototype.renderContent = function (target) {\n    var tooltipContent = select('.' + CONTENT, this.tooltipEle);\n\n    if (this.cssClass) {\n      addClass([this.tooltipEle], this.cssClass.split(' '));\n    }\n\n    if (target && !isNullOrUndefined(target.getAttribute('title'))) {\n      target.setAttribute('data-content', target.getAttribute('title'));\n      target.removeAttribute('title');\n    }\n\n    if (!isNullOrUndefined(this.content)) {\n      tooltipContent.innerHTML = '';\n\n      if (this.content instanceof HTMLElement) {\n        tooltipContent.appendChild(this.content);\n      } else if (typeof this.content === 'string') {\n        if (this.enableHtmlSanitizer) {\n          this.setProperties({\n            content: SanitizeHtmlHelper.sanitize(this.content)\n          }, true);\n        } // eslint-disable-next-line\n\n\n        var tempFunction = compile(this.content);\n        var tempArr = tempFunction({}, this, 'content', this.element.id + 'content', undefined, undefined, tooltipContent);\n\n        if (tempArr) {\n          if (this.enableHtmlParse) {\n            var nodeList = tempArr.length;\n\n            for (var i = 0; i < nodeList; i++) {\n              append(tempArr, tooltipContent);\n            }\n          } else {\n            tooltipContent['textContent'] = this.content;\n          }\n\n          this.enableHtmlParse ? append(tempArr, tooltipContent) : tooltipContent['textContent'] = this.content;\n        }\n      } else {\n        // eslint-disable-next-line\n        var templateFunction = compile(this.content);\n        var tempArr = templateFunction({}, this, 'content', this.element.id + 'content', undefined, undefined, tooltipContent);\n\n        if (tempArr) {\n          append(tempArr, tooltipContent);\n        }\n\n        this.renderReactTemplates();\n      }\n    } else {\n      if (target && !isNullOrUndefined(target.getAttribute('data-content'))) {\n        tooltipContent.innerHTML = target.getAttribute('data-content');\n      }\n    }\n  };\n\n  Tooltip.prototype.renderCloseIcon = function () {\n    if (!this.isSticky) {\n      return;\n    }\n\n    var tipClose = this.createElement('div', {\n      className: ICON + ' ' + CLOSE\n    });\n    this.tooltipEle.appendChild(tipClose);\n    EventHandler.add(tipClose, Browser.touchStartEvent, this.onStickyClose, this);\n  };\n\n  Tooltip.prototype.addDescribedBy = function (target, id) {\n    var describedby = (target.getAttribute('aria-describedby') || '').split(/\\s+/);\n\n    if (describedby.indexOf(id) < 0) {\n      describedby.push(id);\n    }\n\n    attributes(target, {\n      'aria-describedby': describedby.join(' ').trim(),\n      'data-tooltip-id': id\n    });\n  };\n\n  Tooltip.prototype.removeDescribedBy = function (target) {\n    var id = target.getAttribute('data-tooltip-id');\n    var describedby = (target.getAttribute('aria-describedby') || '').split(/\\s+/);\n    var index = describedby.indexOf(id);\n\n    if (index !== -1) {\n      describedby.splice(index, 1);\n    }\n\n    target.removeAttribute('data-tooltip-id');\n    var orgdescribedby = describedby.join(' ').trim();\n\n    if (orgdescribedby) {\n      target.setAttribute('aria-describedby', orgdescribedby);\n    } else {\n      target.removeAttribute('aria-describedby');\n    }\n  };\n\n  Tooltip.prototype.tapHoldHandler = function (evt) {\n    clearTimeout(this.autoCloseTimer);\n    this.targetHover(evt.originalEvent);\n  };\n\n  Tooltip.prototype.touchEndHandler = function (e) {\n    var _this = this;\n\n    if (this.isSticky) {\n      return;\n    } // eslint-disable-next-line\n\n\n    var close = function () {\n      _this.close();\n    };\n\n    this.autoCloseTimer = setTimeout(close, TOUCHEND_HIDE_DELAY);\n  };\n\n  Tooltip.prototype.targetClick = function (e) {\n    var target;\n\n    if (this.target) {\n      target = closest(e.target, this.target);\n    } else {\n      target = this.element;\n    }\n\n    if (isNullOrUndefined(target)) {\n      return;\n    }\n\n    if (target.getAttribute('data-tooltip-id') === null) {\n      this.targetHover(e);\n    } else if (!this.isSticky) {\n      this.hideTooltip(this.animation.close, e, target);\n    }\n  };\n\n  Tooltip.prototype.targetHover = function (e) {\n    var target;\n\n    if (this.target) {\n      target = closest(e.target, this.target);\n    } else {\n      target = this.element;\n    }\n\n    if (isNullOrUndefined(target) || target.getAttribute('data-tooltip-id') !== null && this.closeDelay === 0) {\n      return;\n    }\n\n    var targetList = [].slice.call(selectAll('[data-tooltip-id= \"' + this.ctrlId + '_content\"]', document));\n\n    for (var _i = 0, targetList_1 = targetList; _i < targetList_1.length; _i++) {\n      var target_1 = targetList_1[_i];\n      this.restoreElement(target_1);\n    }\n\n    this.showTooltip(target, this.animation.open, e);\n  };\n\n  Tooltip.prototype.mouseMoveBeforeOpen = function (e) {\n    this.mouseMoveEvent = e;\n  };\n\n  Tooltip.prototype.mouseMoveBeforeRemove = function () {\n    if (this.mouseMoveTarget) {\n      EventHandler.remove(this.mouseMoveTarget, 'mousemove touchstart', this.mouseMoveBeforeOpen);\n    }\n  };\n\n  Tooltip.prototype.showTooltip = function (target, showAnimation, e) {\n    var _this = this;\n\n    clearTimeout(this.showTimer);\n    clearTimeout(this.hideTimer);\n\n    if (this.openDelay && this.mouseTrail) {\n      this.mouseMoveBeforeRemove();\n      this.mouseMoveTarget = target;\n      EventHandler.add(this.mouseMoveTarget, 'mousemove touchstart', this.mouseMoveBeforeOpen, this);\n    }\n\n    this.tooltipEventArgs = {\n      type: e ? e.type : null,\n      cancel: false,\n      target: target,\n      event: e ? e : null,\n      element: this.tooltipEle,\n      isInteracted: !isNullOrUndefined(e)\n    }; // eslint-disable-next-line\n\n    var observeCallback = function (beforeRenderArgs) {\n      _this.beforeRenderCallback(beforeRenderArgs, target, e, showAnimation);\n    };\n\n    this.trigger('beforeRender', this.tooltipEventArgs, observeCallback.bind(this));\n  };\n\n  Tooltip.prototype.beforeRenderCallback = function (beforeRenderArgs, target, e, showAnimation) {\n    if (beforeRenderArgs.cancel) {\n      this.isHidden = true;\n      this.clear();\n      this.mouseMoveBeforeRemove();\n    } else {\n      this.isHidden = false;\n\n      if (isNullOrUndefined(this.tooltipEle)) {\n        this.ctrlId = this.element.getAttribute('id') ? getUniqueID(this.element.getAttribute('id')) : getUniqueID('tooltip');\n        this.tooltipEle = this.createElement('div', {\n          className: TOOLTIP_WRAP + ' ' + POPUP_ROOT + ' ' + POPUP_LIB,\n          attrs: {\n            role: 'tooltip',\n            'aria-hidden': 'false',\n            'id': this.ctrlId + '_content'\n          },\n          styles: 'width:' + formatUnit(this.width) + ';height:' + formatUnit(this.height) + ';position:absolute;'\n        });\n        this.tooltipBeforeRender(target, this);\n        this.tooltipAfterRender(target, e, showAnimation, this);\n      } else {\n        if (target) {\n          this.adjustArrow(target, this.position, this.tooltipPositionX, this.tooltipPositionY);\n          this.addDescribedBy(target, this.ctrlId + '_content');\n          this.renderContent(target);\n          PopupAnimation.stop(this.tooltipEle);\n          this.reposition(target);\n          this.tooltipAfterRender(target, e, showAnimation, this);\n        }\n      }\n    }\n  };\n\n  Tooltip.prototype.appendContainer = function (ctrlObj) {\n    if (typeof this.container == 'string') {\n      if (this.container === 'body') {\n        this.containerElement = document.body;\n      } else {\n        this.isBodyContainer = false;\n        this.containerElement = select(this.container, document);\n      }\n    } else if (this.container instanceof HTMLElement) {\n      this.containerElement = this.container;\n      this.isBodyContainer = this.containerElement.tagName === 'BODY';\n    }\n\n    if (!this.isBodyContainer) {\n      addClass([this.containerElement], POPUP_CONTAINER);\n    }\n\n    this.containerElement.appendChild(ctrlObj.tooltipEle);\n  };\n\n  Tooltip.prototype.tooltipBeforeRender = function (target, ctrlObj) {\n    if (target) {\n      if (Browser.isDevice) {\n        addClass([ctrlObj.tooltipEle], DEVICE);\n      }\n\n      if (ctrlObj.width !== 'auto') {\n        ctrlObj.tooltipEle.style.maxWidth = formatUnit(ctrlObj.width);\n      }\n\n      ctrlObj.tooltipEle.appendChild(ctrlObj.createElement('div', {\n        className: CONTENT\n      }));\n      this.appendContainer(ctrlObj);\n      removeClass([ctrlObj.tooltipEle], HIDE_POPUP);\n      ctrlObj.addDescribedBy(target, ctrlObj.ctrlId + '_content');\n      ctrlObj.renderContent(target);\n      addClass([ctrlObj.tooltipEle], POPUP_OPEN);\n\n      if (ctrlObj.showTipPointer) {\n        ctrlObj.renderArrow();\n      }\n\n      ctrlObj.renderCloseIcon();\n      ctrlObj.renderPopup(target);\n      ctrlObj.adjustArrow(target, ctrlObj.position, ctrlObj.tooltipPositionX, ctrlObj.tooltipPositionY);\n      PopupAnimation.stop(ctrlObj.tooltipEle);\n      ctrlObj.reposition(target);\n    }\n  };\n\n  Tooltip.prototype.tooltipAfterRender = function (target, e, showAnimation, ctrlObj) {\n    if (target) {\n      removeClass([ctrlObj.tooltipEle], POPUP_OPEN);\n      addClass([ctrlObj.tooltipEle], POPUP_CLOSE);\n      ctrlObj.tooltipEventArgs = {\n        type: e ? e.type : null,\n        cancel: false,\n        target: target,\n        event: e ? e : null,\n        element: ctrlObj.tooltipEle,\n        isInteracted: !isNullOrUndefined(e)\n      };\n\n      if (ctrlObj.needTemplateReposition() && !ctrlObj.mouseTrail) {\n        ctrlObj.tooltipEle.style.display = 'none';\n      } // eslint-disable-next-line\n\n\n      var observeCallback = function (observedArgs) {\n        ctrlObj.beforeOpenCallback(observedArgs, target, showAnimation, e);\n      };\n\n      ctrlObj.trigger('beforeOpen', ctrlObj.tooltipEventArgs, observeCallback.bind(ctrlObj));\n    }\n  };\n\n  Tooltip.prototype.beforeOpenCallback = function (observedArgs, target, showAnimation, e) {\n    var _this = this;\n\n    if (observedArgs.cancel) {\n      this.isHidden = true;\n      this.clear();\n      this.mouseMoveBeforeRemove();\n      this.restoreElement(target);\n    } else {\n      // eslint-disable-next-line\n      var openAnimation_1 = {\n        name: showAnimation.effect,\n        duration: showAnimation.duration,\n        delay: showAnimation.delay,\n        timingFunction: 'easeOut'\n      };\n\n      if (showAnimation.effect === 'None') {\n        openAnimation_1 = undefined;\n      }\n\n      if (this.openDelay > 0) {\n        // eslint-disable-next-line\n        var show = function () {\n          if (_this.mouseTrail) {\n            EventHandler.add(target, 'mousemove touchstart mouseenter', _this.onMouseMove, _this);\n          }\n\n          if (_this.popupObj) {\n            _this.popupObj.show(openAnimation_1, target);\n\n            if (_this.mouseMoveEvent && _this.mouseTrail) {\n              _this.onMouseMove(_this.mouseMoveEvent);\n            }\n          }\n        };\n\n        this.showTimer = setTimeout(show, this.openDelay);\n      } else {\n        if (this.popupObj) {\n          this.popupObj.show(openAnimation_1, target);\n        }\n      }\n    }\n\n    if (e) {\n      this.wireMouseEvents(e, target);\n    }\n  };\n\n  Tooltip.prototype.needTemplateReposition = function () {\n    // eslint-disable-next-line\n    var tooltip = this;\n    return !isNullOrUndefined(tooltip.viewContainerRef) && typeof tooltip.viewContainerRef !== 'string';\n  };\n\n  Tooltip.prototype.checkCollision = function (target, x, y) {\n    var elePos = {\n      left: x,\n      top: y,\n      position: this.position,\n      horizontal: this.tooltipPositionX,\n      vertical: this.tooltipPositionY\n    };\n    var affectedPos = isCollide(this.tooltipEle, this.checkCollideTarget(), x, y);\n\n    if (affectedPos.length > 0) {\n      elePos.horizontal = affectedPos.indexOf('left') >= 0 ? 'Right' : affectedPos.indexOf('right') >= 0 ? 'Left' : this.tooltipPositionX;\n      elePos.vertical = affectedPos.indexOf('top') >= 0 ? 'Bottom' : affectedPos.indexOf('bottom') >= 0 ? 'Top' : this.tooltipPositionY;\n    }\n\n    return elePos;\n  };\n\n  Tooltip.prototype.calculateElementPosition = function (pos, offsetPos) {\n    return [this.isBodyContainer ? pos.left + offsetPos.left : pos.left - this.containerElement.offsetLeft + offsetPos.left + window.pageXOffset + this.containerElement.scrollLeft, this.isBodyContainer ? pos.top + offsetPos.top : pos.top - this.containerElement.offsetTop + offsetPos.top + window.pageYOffset + this.containerElement.scrollTop];\n  };\n\n  Tooltip.prototype.collisionFlipFit = function (target, x, y) {\n    var elePos = this.checkCollision(target, x, y);\n    var newpos = elePos.position;\n\n    if (this.tooltipPositionY !== elePos.vertical) {\n      newpos = this.position.indexOf('Bottom') === 0 || this.position.indexOf('Top') === 0 ? elePos.vertical + this.tooltipPositionX : this.tooltipPositionX + elePos.vertical;\n    }\n\n    if (this.tooltipPositionX !== elePos.horizontal) {\n      if (newpos.indexOf('Left') === 0) {\n        elePos.vertical = newpos === 'LeftTop' || newpos === 'LeftCenter' ? 'Top' : 'Bottom';\n        newpos = elePos.vertical + 'Left';\n      }\n\n      if (newpos.indexOf('Right') === 0) {\n        elePos.vertical = newpos === 'RightTop' || newpos === 'RightCenter' ? 'Top' : 'Bottom';\n        newpos = elePos.vertical + 'Right';\n      }\n\n      elePos.horizontal = this.tooltipPositionX;\n    }\n\n    this.tooltipEventArgs = {\n      type: null,\n      cancel: false,\n      target: target,\n      event: null,\n      element: this.tooltipEle,\n      collidedPosition: newpos\n    };\n    this.trigger('beforeCollision', this.tooltipEventArgs);\n    var elePosVertical = elePos.vertical;\n    var elePosHorizontal = elePos.horizontal;\n\n    if (elePos.position !== newpos) {\n      var pos = calculatePosition(target, elePosHorizontal, elePosVertical, !this.isBodyContainer, this.isBodyContainer ? null : this.containerElement.getBoundingClientRect());\n      this.adjustArrow(target, newpos, elePosHorizontal, elePosVertical);\n      var offsetPos = this.calculateTooltipOffset(newpos);\n      offsetPos.top -= this.getOffSetPosition('TopBottom', newpos, this.offsetY);\n      offsetPos.left -= this.getOffSetPosition('RightLeft', newpos, this.offsetX);\n      elePos.position = newpos;\n      var elePosition = this.calculateElementPosition(pos, offsetPos);\n      elePos.left = elePosition[0];\n      elePos.top = elePosition[1];\n    } else {\n      this.adjustArrow(target, newpos, elePosHorizontal, elePosVertical);\n    }\n\n    var eleOffset = {\n      left: elePos.left,\n      top: elePos.top\n    };\n    var left = this.isBodyContainer ? fit(this.tooltipEle, this.checkCollideTarget(), {\n      X: true,\n      Y: false\n    }, eleOffset).left : eleOffset.left;\n    this.tooltipEle.style.display = 'block';\n\n    if (this.showTipPointer && (newpos.indexOf('Bottom') === 0 || newpos.indexOf('Top') === 0)) {\n      var arrowEle = select('.' + ARROW_TIP, this.tooltipEle);\n      var arrowleft = parseInt(arrowEle.style.left, 10) - (left - elePos.left);\n\n      if (arrowleft < 0) {\n        arrowleft = 0;\n      } else if (arrowleft + arrowEle.offsetWidth > this.tooltipEle.clientWidth) {\n        arrowleft = this.tooltipEle.clientWidth - arrowEle.offsetWidth;\n      }\n\n      arrowEle.style.left = arrowleft.toString() + 'px';\n    }\n\n    this.tooltipEle.style.display = '';\n    eleOffset.left = left;\n    return eleOffset;\n  };\n\n  Tooltip.prototype.getOffSetPosition = function (positionString, newPos, offsetType) {\n    return positionString.indexOf(this.position.split(/(?=[A-Z])/)[0]) !== -1 && positionString.indexOf(newPos.split(/(?=[A-Z])/)[0]) !== -1 ? 2 * offsetType : 0;\n  };\n\n  Tooltip.prototype.checkCollideTarget = function () {\n    return !this.windowCollision && this.target ? this.element : null;\n  };\n\n  Tooltip.prototype.hideTooltip = function (hideAnimation, e, targetElement) {\n    var _this = this;\n\n    if (this.closeDelay > 0) {\n      clearTimeout(this.hideTimer);\n      clearTimeout(this.showTimer); // eslint-disable-next-line\n\n      var hide = function () {\n        if (_this.closeDelay && _this.tooltipEle && _this.isTooltipOpen) {\n          return;\n        }\n\n        _this.tooltipHide(hideAnimation, e, targetElement);\n      };\n\n      this.hideTimer = setTimeout(hide, this.closeDelay);\n    } else {\n      this.tooltipHide(hideAnimation, e, targetElement);\n    }\n  };\n\n  Tooltip.prototype.tooltipHide = function (hideAnimation, e, targetElement) {\n    var _this = this;\n\n    var target;\n\n    if (e) {\n      target = this.target ? targetElement || e.target : this.element;\n    } else {\n      target = select('[data-tooltip-id= \"' + this.ctrlId + '_content\"]', document);\n    }\n\n    this.tooltipEventArgs = {\n      type: e ? e.type : null,\n      cancel: false,\n      target: target,\n      event: e ? e : null,\n      element: this.tooltipEle,\n      isInteracted: !isNullOrUndefined(e)\n    }; // this line commented for close the tooltip popup element even the target element destroyed in a page.\n    //if (isNullOrUndefined(target)) { return; }\n\n    this.trigger('beforeClose', this.tooltipEventArgs, function (observedArgs) {\n      if (!observedArgs.cancel) {\n        _this.mouseMoveBeforeRemove();\n\n        _this.popupHide(hideAnimation, target);\n      } else {\n        _this.isHidden = false;\n      }\n    });\n  };\n\n  Tooltip.prototype.popupHide = function (hideAnimation, target) {\n    if (target) {\n      this.restoreElement(target);\n    }\n\n    this.isHidden = true; // eslint-disable-next-line\n\n    var closeAnimation = {\n      name: hideAnimation.effect,\n      duration: hideAnimation.duration,\n      delay: hideAnimation.delay,\n      timingFunction: 'easeIn'\n    };\n\n    if (hideAnimation.effect === 'None') {\n      closeAnimation = undefined;\n    }\n\n    if (this.popupObj) {\n      this.popupObj.hide(closeAnimation);\n    }\n  };\n\n  Tooltip.prototype.restoreElement = function (target) {\n    this.unwireMouseEvents(target);\n\n    if (!isNullOrUndefined(target.getAttribute('data-content'))) {\n      target.setAttribute('title', target.getAttribute('data-content'));\n      target.removeAttribute('data-content');\n    }\n\n    this.removeDescribedBy(target);\n  };\n\n  Tooltip.prototype.clear = function () {\n    if (this.tooltipEle) {\n      removeClass([this.tooltipEle], POPUP_CLOSE);\n      addClass([this.tooltipEle], POPUP_OPEN);\n    }\n\n    if (this.isHidden) {\n      if (this.popupObj) {\n        this.popupObj.destroy();\n      }\n\n      if (this.tooltipEle) {\n        remove(this.tooltipEle);\n      }\n\n      this.tooltipEle = null;\n      this.popupObj = null;\n    }\n  };\n\n  Tooltip.prototype.tooltipHover = function (e) {\n    if (this.tooltipEle) {\n      this.isTooltipOpen = true;\n    }\n  };\n\n  Tooltip.prototype.tooltipMouseOut = function (e) {\n    this.isTooltipOpen = false;\n    this.hideTooltip(this.animation.close, e, this.findTarget());\n  };\n\n  Tooltip.prototype.onMouseOut = function (e) {\n    var enteredElement = e.relatedTarget; // don't close the tooltip only if it is tooltip content element\n\n    if (enteredElement && !this.mouseTrail) {\n      var checkForTooltipElement = closest(enteredElement, \".\" + TOOLTIP_WRAP + \".\" + POPUP_LIB + \".\" + POPUP_ROOT);\n\n      if (checkForTooltipElement) {\n        EventHandler.add(checkForTooltipElement, 'mouseleave', this.tooltipElementMouseOut, this);\n      } else {\n        this.hideTooltip(this.animation.close, e, this.findTarget());\n\n        if (this.closeDelay === 0) {\n          this.clear();\n        }\n      }\n    } else {\n      this.hideTooltip(this.animation.close, e, this.findTarget());\n      this.clear();\n    }\n  };\n\n  Tooltip.prototype.tooltipElementMouseOut = function (e) {\n    this.hideTooltip(this.animation.close, e, this.findTarget());\n    EventHandler.remove(this.element, 'mouseleave', this.tooltipElementMouseOut);\n    this.clear();\n  };\n\n  Tooltip.prototype.onStickyClose = function (e) {\n    this.close();\n  };\n\n  Tooltip.prototype.onMouseMove = function (event) {\n    var eventPageX = 0;\n    var eventPageY = 0;\n\n    if (event.type.indexOf('touch') > -1) {\n      event.preventDefault();\n      eventPageX = event.touches[0].pageX;\n      eventPageY = event.touches[0].pageY;\n    } else {\n      eventPageX = event.pageX;\n      eventPageY = event.pageY;\n    }\n\n    PopupAnimation.stop(this.tooltipEle);\n    removeClass([this.tooltipEle], POPUP_CLOSE);\n    addClass([this.tooltipEle], POPUP_OPEN);\n    this.adjustArrow(event.target, this.position, this.tooltipPositionX, this.tooltipPositionY);\n    var pos = this.calculateTooltipOffset(this.position);\n    var x = eventPageX + pos.left + this.offsetX;\n    var y = eventPageY + pos.top + this.offsetY;\n    var elePos = this.checkCollision(event.target, x, y);\n\n    if (this.tooltipPositionX !== elePos.horizontal || this.tooltipPositionY !== elePos.vertical) {\n      var newpos = this.position.indexOf('Bottom') === 0 || this.position.indexOf('Top') === 0 ? elePos.vertical + elePos.horizontal : elePos.horizontal + elePos.vertical;\n      elePos.position = newpos;\n      this.adjustArrow(event.target, elePos.position, elePos.horizontal, elePos.vertical);\n      var colpos = this.calculateTooltipOffset(elePos.position);\n      elePos.left = eventPageX + colpos.left - this.offsetX;\n      elePos.top = eventPageY + colpos.top - this.offsetY;\n    }\n\n    this.tooltipEle.style.left = elePos.left + 'px';\n    this.tooltipEle.style.top = elePos.top + 'px';\n  };\n\n  Tooltip.prototype.keyDown = function (event) {\n    if (this.tooltipEle && event.keyCode === 27) {\n      this.close();\n    }\n  };\n\n  Tooltip.prototype.touchEnd = function (e) {\n    if (this.tooltipEle && closest(e.target, '.' + ROOT) === null && !this.isSticky) {\n      this.close();\n    }\n  };\n\n  Tooltip.prototype.scrollHandler = function (e) {\n    if (this.tooltipEle) {\n      if (!closest(e.target, \".\" + TOOLTIP_WRAP + \".\" + POPUP_LIB + \".\" + POPUP_ROOT)) {\n        this.close();\n      }\n    }\n  };\n  /**\n   * Core method that initializes the control rendering.\n   *\n   * @private\n   * @returns {void}\n   */\n\n\n  Tooltip.prototype.render = function () {\n    this.initialize();\n    this.wireEvents(this.opensOn);\n    this.renderComplete();\n  };\n  /**\n   * Initializes the values of private members.\n   *\n   * @private\n   * @returns {void}\n   */\n\n\n  Tooltip.prototype.preRender = function () {\n    this.tipClass = TIP_BOTTOM;\n    this.tooltipPositionX = 'Center';\n    this.tooltipPositionY = 'Top';\n    this.isHidden = true;\n  };\n  /**\n   * Binding events to the Tooltip element.\n   *\n   * @hidden\n   * @param {string} trigger - specify the trigger string to the function\n   * @returns {void}\n   *\n   */\n\n\n  Tooltip.prototype.wireEvents = function (trigger) {\n    var triggerList = this.getTriggerList(trigger);\n\n    for (var _i = 0, triggerList_1 = triggerList; _i < triggerList_1.length; _i++) {\n      var opensOn = triggerList_1[_i];\n\n      if (opensOn === 'Custom') {\n        return;\n      }\n\n      if (opensOn === 'Focus') {\n        this.wireFocusEvents();\n      }\n\n      if (opensOn === 'Click') {\n        EventHandler.add(this.element, Browser.touchStartEvent, this.targetClick, this);\n      }\n\n      if (opensOn === 'Hover') {\n        if (Browser.isDevice) {\n          this.touchModule = new Touch(this.element, {\n            tapHoldThreshold: TAPHOLD_THRESHOLD,\n            tapHold: this.tapHoldHandler.bind(this)\n          });\n          EventHandler.add(this.element, Browser.touchEndEvent, this.touchEndHandler, this);\n        } else {\n          EventHandler.add(this.element, 'mouseover', this.targetHover, this);\n        }\n      }\n    }\n\n    EventHandler.add(document, 'touchend', this.touchEnd, this);\n    EventHandler.add(document, 'scroll wheel', this.scrollHandler, this);\n    EventHandler.add(window, 'resize', this.windowResize, this);\n    EventHandler.add(document, 'keydown', this.keyDown, this);\n  };\n\n  Tooltip.prototype.getTriggerList = function (trigger) {\n    if (trigger === 'Auto') {\n      trigger = Browser.isDevice ? 'Hover' : 'Hover Focus';\n    }\n\n    return trigger.split(' ');\n  };\n\n  Tooltip.prototype.wireFocusEvents = function () {\n    if (!isNullOrUndefined(this.target)) {\n      var targetList = [].slice.call(selectAll(this.target, this.element));\n\n      for (var _i = 0, targetList_2 = targetList; _i < targetList_2.length; _i++) {\n        var target = targetList_2[_i];\n        EventHandler.add(target, 'focus', this.targetHover, this);\n      }\n    } else {\n      EventHandler.add(this.element, 'focus', this.targetHover, this);\n    }\n  };\n\n  Tooltip.prototype.wireMouseEvents = function (e, target) {\n    if (this.tooltipEle) {\n      if (!this.isSticky) {\n        if (e.type === 'focus') {\n          EventHandler.add(target, 'blur', this.onMouseOut, this);\n        }\n\n        if (e.type === 'mouseover') {\n          EventHandler.add(target, 'mouseleave', this.onMouseOut, this);\n        }\n\n        if (this.closeDelay) {\n          EventHandler.add(this.tooltipEle, 'mouseenter', this.tooltipHover, this);\n          EventHandler.add(this.tooltipEle, 'mouseleave', this.tooltipMouseOut, this);\n        }\n      }\n\n      if (this.mouseTrail && this.openDelay === 0) {\n        EventHandler.add(target, 'mousemove touchstart mouseenter', this.onMouseMove, this);\n      }\n    }\n  };\n  /**\n   * Unbinding events from the element on widget destroy.\n   *\n   * @hidden\n   *\n   * @param {string} trigger - specify the trigger string to the function\n   * @returns {void}\n   *\n   */\n\n\n  Tooltip.prototype.unwireEvents = function (trigger) {\n    var triggerList = this.getTriggerList(trigger);\n\n    for (var _i = 0, triggerList_2 = triggerList; _i < triggerList_2.length; _i++) {\n      var opensOn = triggerList_2[_i];\n\n      if (opensOn === 'Custom') {\n        return;\n      }\n\n      if (opensOn === 'Focus') {\n        this.unwireFocusEvents();\n      }\n\n      if (opensOn === 'Click') {\n        EventHandler.remove(this.element, Browser.touchStartEvent, this.targetClick);\n      }\n\n      if (opensOn === 'Hover') {\n        if (Browser.isDevice) {\n          if (this.touchModule) {\n            this.touchModule.destroy();\n          }\n\n          EventHandler.remove(this.element, Browser.touchEndEvent, this.touchEndHandler);\n        } else {\n          EventHandler.remove(this.element, 'mouseover', this.targetHover);\n        }\n      }\n    }\n\n    EventHandler.remove(document, 'touchend', this.touchEnd);\n    EventHandler.remove(document, 'scroll wheel', this.scrollHandler);\n    EventHandler.remove(window, 'resize', this.windowResize);\n    EventHandler.remove(document, 'keydown', this.keyDown);\n  };\n\n  Tooltip.prototype.unwireFocusEvents = function () {\n    if (!isNullOrUndefined(this.target)) {\n      var targetList = [].slice.call(selectAll(this.target, this.element));\n\n      for (var _i = 0, targetList_3 = targetList; _i < targetList_3.length; _i++) {\n        var target = targetList_3[_i];\n        EventHandler.remove(target, 'focus', this.targetHover);\n      }\n    } else {\n      EventHandler.remove(this.element, 'focus', this.targetHover);\n    }\n  };\n\n  Tooltip.prototype.unwireMouseEvents = function (target) {\n    if (!this.isSticky) {\n      var triggerList = this.getTriggerList(this.opensOn);\n\n      for (var _i = 0, triggerList_3 = triggerList; _i < triggerList_3.length; _i++) {\n        var opensOn = triggerList_3[_i];\n\n        if (opensOn === 'Focus') {\n          EventHandler.remove(target, 'blur', this.onMouseOut);\n        }\n\n        if (opensOn === 'Hover' && !Browser.isDevice) {\n          EventHandler.remove(target, 'mouseleave', this.onMouseOut);\n        }\n      }\n\n      if (this.closeDelay) {\n        EventHandler.remove(target, 'mouseenter', this.tooltipHover);\n        EventHandler.remove(target, 'mouseleave', this.tooltipMouseOut);\n      }\n    }\n\n    if (this.mouseTrail) {\n      EventHandler.remove(target, 'mousemove touchstart mouseenter', this.onMouseMove);\n    }\n  };\n\n  Tooltip.prototype.findTarget = function () {\n    var target = select('[data-tooltip-id= \"' + this.ctrlId + '_content\"]', document);\n    return target;\n  };\n  /**\n   * Core method to return the component name.\n   *\n   * @private\n   *\n   * @returns {string} - this method returns module name.\n   */\n\n\n  Tooltip.prototype.getModuleName = function () {\n    return 'tooltip';\n  };\n  /**\n   * Returns the properties to be maintained in the persisted state.\n   *\n   * @private\n   *\n   * @returns {string} - this method returns persisted data.\n   */\n\n\n  Tooltip.prototype.getPersistData = function () {\n    return this.addOnPersist([]);\n  };\n  /**\n   * Called internally, if any of the property value changed.\n   *\n   * @private\n   *\n   * @param {TooltipModel} newProp - this param gives new property values to the method\n   * @param {TooltipModel} oldProp - this param gives old property values to the method\n   * @returns {void}\n   *\n   */\n\n\n  Tooltip.prototype.onPropertyChanged = function (newProp, oldProp) {\n    var targetElement = this.findTarget();\n\n    for (var _i = 0, _a = Object.keys(newProp); _i < _a.length; _i++) {\n      var prop = _a[_i];\n\n      switch (prop) {\n        case 'width':\n          if (this.tooltipEle && targetElement) {\n            this.tooltipEle.style.width = this.tooltipEle.style.maxWidth = formatUnit(newProp.width);\n            this.reposition(targetElement);\n          }\n\n          break;\n\n        case 'height':\n          if (this.tooltipEle && targetElement) {\n            this.tooltipEle.style.height = formatUnit(newProp.height);\n            this.reposition(targetElement);\n          }\n\n          break;\n\n        case 'content':\n          if (this.tooltipEle) {\n            this.renderContent();\n          }\n\n          break;\n\n        case 'opensOn':\n          this.unwireEvents(oldProp.opensOn);\n          this.wireEvents(newProp.opensOn);\n          break;\n\n        case 'position':\n          this.formatPosition();\n\n          if (this.tooltipEle && targetElement) {\n            var arrowInnerELe = select('.' + ARROW_TIP_INNER, this.tooltipEle);\n            arrowInnerELe.style.top = arrowInnerELe.style.left = null;\n            this.reposition(targetElement);\n          }\n\n          break;\n\n        case 'tipPointerPosition':\n          if (this.tooltipEle && targetElement) {\n            this.reposition(targetElement);\n          }\n\n          break;\n\n        case 'offsetX':\n          if (this.tooltipEle) {\n            var x = newProp.offsetX - oldProp.offsetX;\n            this.tooltipEle.style.left = (parseInt(this.tooltipEle.style.left, 10) + x).toString() + 'px';\n          }\n\n          break;\n\n        case 'offsetY':\n          if (this.tooltipEle) {\n            var y = newProp.offsetY - oldProp.offsetY;\n            this.tooltipEle.style.top = (parseInt(this.tooltipEle.style.top, 10) + y).toString() + 'px';\n          }\n\n          break;\n\n        case 'cssClass':\n          if (this.tooltipEle) {\n            if (oldProp.cssClass) {\n              removeClass([this.tooltipEle], oldProp.cssClass.split(' '));\n            }\n\n            if (newProp.cssClass) {\n              addClass([this.tooltipEle], newProp.cssClass.split(' '));\n            }\n          }\n\n          break;\n\n        case 'enableRtl':\n          if (this.tooltipEle) {\n            if (this.enableRtl) {\n              addClass([this.tooltipEle], RTL);\n            } else {\n              removeClass([this.tooltipEle], RTL);\n            }\n          }\n\n          break;\n\n        case 'container':\n          if (!isNullOrUndefined(this.containerElement)) {\n            removeClass([this.containerElement], POPUP_CONTAINER);\n          }\n\n          this.container = newProp.container;\n\n          if (this.tooltipEle && targetElement) {\n            this.appendContainer(this);\n            this.reposition(targetElement);\n          }\n\n      }\n    }\n  };\n  /**\n   * It is used to show the Tooltip on the specified target with specific animation settings.\n   *\n   * @param {HTMLElement} element - Target element where the Tooltip is to be displayed. (It is an optional parameter)\n   * @param {TooltipAnimationSettings} animation - Sets the specific animation, while showing the Tooltip on the screen. (It is an optional parameter)\n   * @returns {void}\n   */\n\n\n  Tooltip.prototype.open = function (element, animation) {\n    if (isNullOrUndefined(animation)) {\n      animation = this.animation.open;\n    }\n\n    if (isNullOrUndefined(element)) {\n      element = this.element;\n    }\n\n    if (element.style.display === 'none') {\n      return;\n    }\n\n    this.showTooltip(element, animation);\n  };\n  /**\n   * It is used to hide the Tooltip with specific animation effect.\n   *\n   * @param {TooltipAnimationSettings} animation - Sets the specific animation when hiding Tooltip from the screen. (It is an optional parameter)\n   * @returns {void}\n   */\n\n\n  Tooltip.prototype.close = function (animation) {\n    if (!animation) {\n      animation = this.animation.close;\n    }\n\n    this.hideTooltip(animation);\n  };\n  /**\n   * It is used to refresh the Tooltip content and its position.\n   *\n   * @param {HTMLElement} target - Target element where the Tooltip content or position needs to be refreshed.\n   * @returns {void}\n   */\n\n\n  Tooltip.prototype.refresh = function (target) {\n    if (this.tooltipEle) {\n      this.renderContent(target);\n    }\n\n    if (this.popupObj && target) {\n      this.reposition(target);\n    }\n  };\n  /**\n   * It is used to destroy the Tooltip component.\n   * @method destroy\n   * @returns {void}\n   * @memberof Tooltip\n   */\n\n\n  Tooltip.prototype.destroy = function () {\n    _super.prototype.destroy.call(this);\n\n    if (this.tooltipEle) {\n      remove(this.tooltipEle);\n    }\n\n    if (this.popupObj) {\n      this.popupObj.destroy();\n    }\n\n    removeClass([this.element], ROOT);\n    this.unwireEvents(this.opensOn);\n    this.unwireMouseEvents(this.element);\n    this.tooltipEle = null;\n    this.popupObj = null;\n  };\n\n  __decorate([Property('auto')], Tooltip.prototype, \"width\", void 0);\n\n  __decorate([Property('auto')], Tooltip.prototype, \"height\", void 0);\n\n  __decorate([Property()], Tooltip.prototype, \"content\", void 0);\n\n  __decorate([Property('body')], Tooltip.prototype, \"container\", void 0);\n\n  __decorate([Property()], Tooltip.prototype, \"target\", void 0);\n\n  __decorate([Property('TopCenter')], Tooltip.prototype, \"position\", void 0);\n\n  __decorate([Property(0)], Tooltip.prototype, \"offsetX\", void 0);\n\n  __decorate([Property(0)], Tooltip.prototype, \"offsetY\", void 0);\n\n  __decorate([Property(true)], Tooltip.prototype, \"showTipPointer\", void 0);\n\n  __decorate([Property(true)], Tooltip.prototype, \"enableHtmlParse\", void 0);\n\n  __decorate([Property(false)], Tooltip.prototype, \"windowCollision\", void 0);\n\n  __decorate([Property('Auto')], Tooltip.prototype, \"tipPointerPosition\", void 0);\n\n  __decorate([Property('Auto')], Tooltip.prototype, \"opensOn\", void 0);\n\n  __decorate([Property(false)], Tooltip.prototype, \"mouseTrail\", void 0);\n\n  __decorate([Property(false)], Tooltip.prototype, \"isSticky\", void 0);\n\n  __decorate([Complex({}, Animation)], Tooltip.prototype, \"animation\", void 0);\n\n  __decorate([Property(0)], Tooltip.prototype, \"openDelay\", void 0);\n\n  __decorate([Property(0)], Tooltip.prototype, \"closeDelay\", void 0);\n\n  __decorate([Property()], Tooltip.prototype, \"cssClass\", void 0);\n\n  __decorate([Property(false)], Tooltip.prototype, \"enableHtmlSanitizer\", void 0);\n\n  __decorate([Event()], Tooltip.prototype, \"beforeRender\", void 0);\n\n  __decorate([Event()], Tooltip.prototype, \"beforeOpen\", void 0);\n\n  __decorate([Event()], Tooltip.prototype, \"afterOpen\", void 0);\n\n  __decorate([Event()], Tooltip.prototype, \"beforeClose\", void 0);\n\n  __decorate([Event()], Tooltip.prototype, \"afterClose\", void 0);\n\n  __decorate([Event()], Tooltip.prototype, \"beforeCollision\", void 0);\n\n  __decorate([Event()], Tooltip.prototype, \"created\", void 0);\n\n  __decorate([Event()], Tooltip.prototype, \"destroyed\", void 0);\n\n  Tooltip = __decorate([NotifyPropertyChanges], Tooltip);\n  return Tooltip;\n}(Component);\n\nexport { Tooltip };","map":{"version":3,"names":["__extends","extendStatics","d","b","Object","setPrototypeOf","__proto__","Array","p","hasOwnProperty","__","constructor","prototype","create","__decorate","decorators","target","key","desc","c","arguments","length","r","getOwnPropertyDescriptor","Reflect","decorate","i","defineProperty","Component","Property","ChildProperty","Event","append","compile","EventHandler","Touch","Browser","Animation","PopupAnimation","isNullOrUndefined","getUniqueID","formatUnit","select","selectAll","attributes","closest","removeClass","addClass","remove","NotifyPropertyChanges","Complex","SanitizeHtmlHelper","Popup","calculatePosition","isCollide","fit","TOUCHEND_HIDE_DELAY","TAPHOLD_THRESHOLD","SHOW_POINTER_TIP_GAP","HIDE_POINTER_TIP_GAP","MOUSE_TRAIL_GAP","POINTER_ADJUST","ROOT","RTL","DEVICE","ICON","CLOSE","TOOLTIP_WRAP","CONTENT","ARROW_TIP","ARROW_TIP_OUTER","ARROW_TIP_INNER","TIP_BOTTOM","TIP_TOP","TIP_LEFT","TIP_RIGHT","POPUP_ROOT","POPUP_OPEN","POPUP_CLOSE","POPUP_LIB","HIDE_POPUP","POPUP_CONTAINER","_super","apply","effect","duration","delay","Tooltip","options","element","_this","call","mouseMoveEvent","mouseMoveTarget","containerElement","isBodyContainer","initialize","formatPosition","_a","_b","position","indexOf","split","tooltipPositionY","tooltipPositionX","renderArrow","setTipClass","tip","createElement","className","tipClass","appendChild","tooltipEle","renderPopup","elePos","mouseTrail","top","left","getTooltipPosition","classList","popupObj","height","width","X","Y","enableRtl","open","openPopupHandler","bind","close","closePopupHandler","style","display","pos","getBoundingClientRect","offsetPos","calculateTooltipOffset","collisionPosition","calculateElementPosition","collisionLeft","collisionTop","collisionFlipFit","windowResize","reposition","findTarget","dataBind","needTemplateReposition","trigger","tooltipEventArgs","clearTemplate","clear","tooltipEleWidth","offsetWidth","tooltipEleHeight","offsetHeight","arrowEle","tipWidth","tipHeight","tipAdjust","showTipPointer","tipHeightAdjust","clientHeight","tipWidthAdjust","clientWidth","offsetX","offsetY","updateTipPosition","selEle","removeList","adjustArrow","leftValue","topValue","tooltipWidth","tooltipHeight","arrowInnerELe","tipPosExclude","tipPointerPosition","renderContent","tooltipContent","cssClass","getAttribute","setAttribute","removeAttribute","content","innerHTML","HTMLElement","enableHtmlSanitizer","setProperties","sanitize","tempFunction","tempArr","id","undefined","enableHtmlParse","nodeList","templateFunction","renderReactTemplates","renderCloseIcon","isSticky","tipClose","add","touchStartEvent","onStickyClose","addDescribedBy","describedby","push","join","trim","removeDescribedBy","index","splice","orgdescribedby","tapHoldHandler","evt","clearTimeout","autoCloseTimer","targetHover","originalEvent","touchEndHandler","e","setTimeout","targetClick","hideTooltip","animation","closeDelay","targetList","slice","ctrlId","document","_i","targetList_1","target_1","restoreElement","showTooltip","mouseMoveBeforeOpen","mouseMoveBeforeRemove","showAnimation","showTimer","hideTimer","openDelay","type","cancel","event","isInteracted","observeCallback","beforeRenderArgs","beforeRenderCallback","isHidden","attrs","role","styles","tooltipBeforeRender","tooltipAfterRender","stop","appendContainer","ctrlObj","container","body","tagName","isDevice","maxWidth","observedArgs","beforeOpenCallback","openAnimation_1","name","timingFunction","show","onMouseMove","wireMouseEvents","tooltip","viewContainerRef","checkCollision","x","y","horizontal","vertical","affectedPos","checkCollideTarget","offsetLeft","window","pageXOffset","scrollLeft","offsetTop","pageYOffset","scrollTop","newpos","collidedPosition","elePosVertical","elePosHorizontal","getOffSetPosition","elePosition","eleOffset","arrowleft","parseInt","toString","positionString","newPos","offsetType","windowCollision","hideAnimation","targetElement","hide","isTooltipOpen","tooltipHide","popupHide","closeAnimation","unwireMouseEvents","destroy","tooltipHover","tooltipMouseOut","onMouseOut","enteredElement","relatedTarget","checkForTooltipElement","tooltipElementMouseOut","eventPageX","eventPageY","preventDefault","touches","pageX","pageY","colpos","keyDown","keyCode","touchEnd","scrollHandler","render","wireEvents","opensOn","renderComplete","preRender","triggerList","getTriggerList","triggerList_1","wireFocusEvents","touchModule","tapHoldThreshold","tapHold","touchEndEvent","targetList_2","unwireEvents","triggerList_2","unwireFocusEvents","targetList_3","triggerList_3","getModuleName","getPersistData","addOnPersist","onPropertyChanged","newProp","oldProp","keys","prop","refresh"],"sources":["C:/Users/leezh/Documents/Coding/Orbital Test/Orbital-Duty-Planner/node_modules/@syncfusion/ej2-popups/src/tooltip/tooltip.js"],"sourcesContent":["var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Component, Property, ChildProperty, Event, append, compile } from '@syncfusion/ej2-base';\nimport { EventHandler, Touch, Browser, Animation as PopupAnimation } from '@syncfusion/ej2-base';\nimport { isNullOrUndefined, getUniqueID, formatUnit, select, selectAll } from '@syncfusion/ej2-base';\nimport { attributes, closest, removeClass, addClass, remove } from '@syncfusion/ej2-base';\nimport { NotifyPropertyChanges, Complex, SanitizeHtmlHelper } from '@syncfusion/ej2-base';\nimport { Popup } from '../popup/popup';\nimport { calculatePosition } from '../common/position';\nimport { isCollide, fit } from '../common/collision';\nvar TOUCHEND_HIDE_DELAY = 1500;\nvar TAPHOLD_THRESHOLD = 500;\nvar SHOW_POINTER_TIP_GAP = 0;\nvar HIDE_POINTER_TIP_GAP = 8;\nvar MOUSE_TRAIL_GAP = 2;\nvar POINTER_ADJUST = 2;\nvar ROOT = 'e-tooltip';\nvar RTL = 'e-rtl';\nvar DEVICE = 'e-bigger';\nvar ICON = 'e-icons';\nvar CLOSE = 'e-tooltip-close';\nvar TOOLTIP_WRAP = 'e-tooltip-wrap';\nvar CONTENT = 'e-tip-content';\nvar ARROW_TIP = 'e-arrow-tip';\nvar ARROW_TIP_OUTER = 'e-arrow-tip-outer';\nvar ARROW_TIP_INNER = 'e-arrow-tip-inner';\nvar TIP_BOTTOM = 'e-tip-bottom';\nvar TIP_TOP = 'e-tip-top';\nvar TIP_LEFT = 'e-tip-left';\nvar TIP_RIGHT = 'e-tip-right';\nvar POPUP_ROOT = 'e-popup';\nvar POPUP_OPEN = 'e-popup-open';\nvar POPUP_CLOSE = 'e-popup-close';\nvar POPUP_LIB = 'e-lib';\nvar HIDE_POPUP = 'e-hidden';\nvar POPUP_CONTAINER = 'e-tooltip-popup-container';\nvar Animation = /** @class */ (function (_super) {\n    __extends(Animation, _super);\n    function Animation() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property({ effect: 'FadeIn', duration: 150, delay: 0 })\n    ], Animation.prototype, \"open\", void 0);\n    __decorate([\n        Property({ effect: 'FadeOut', duration: 150, delay: 0 })\n    ], Animation.prototype, \"close\", void 0);\n    return Animation;\n}(ChildProperty));\nexport { Animation };\n/**\n * Represents the Tooltip component that displays a piece of information about the target element on mouse hover.\n * ```html\n * <div id=\"tooltip\">Show Tooltip</div>\n * ```\n * ```typescript\n * <script>\n *   var tooltipObj = new Tooltip({ content: 'Tooltip text' });\n *   tooltipObj.appendTo(\"#tooltip\");\n * </script>\n * ```\n */\nvar Tooltip = /** @class */ (function (_super) {\n    __extends(Tooltip, _super);\n    /* eslint-enable */\n    /**\n     * Constructor for creating the Tooltip Component\n     *\n     * @param {TooltipModel} options - specifies the options for the constructor\n     * @param {string| HTMLElement} element - specifies the element for the constructor\n     *\n     */\n    function Tooltip(options, element) {\n        var _this = _super.call(this, options, element) || this;\n        _this.mouseMoveEvent = null;\n        _this.mouseMoveTarget = null;\n        _this.containerElement = null;\n        _this.isBodyContainer = true;\n        return _this;\n    }\n    Tooltip.prototype.initialize = function () {\n        this.formatPosition();\n        addClass([this.element], ROOT);\n    };\n    Tooltip.prototype.formatPosition = function () {\n        var _a, _b;\n        if (this.position.indexOf('Top') === 0 || this.position.indexOf('Bottom') === 0) {\n            _a = this.position.split(/(?=[A-Z])/), this.tooltipPositionY = _a[0], this.tooltipPositionX = _a[1];\n        }\n        else {\n            _b = this.position.split(/(?=[A-Z])/), this.tooltipPositionX = _b[0], this.tooltipPositionY = _b[1];\n        }\n    };\n    Tooltip.prototype.renderArrow = function () {\n        this.setTipClass(this.position);\n        var tip = this.createElement('div', { className: ARROW_TIP + ' ' + this.tipClass });\n        tip.appendChild(this.createElement('div', { className: ARROW_TIP_OUTER + ' ' + this.tipClass }));\n        tip.appendChild(this.createElement('div', { className: ARROW_TIP_INNER + ' ' + this.tipClass }));\n        this.tooltipEle.appendChild(tip);\n    };\n    Tooltip.prototype.setTipClass = function (position) {\n        if (position.indexOf('Right') === 0) {\n            this.tipClass = TIP_LEFT;\n        }\n        else if (position.indexOf('Bottom') === 0) {\n            this.tipClass = TIP_TOP;\n        }\n        else if (position.indexOf('Left') === 0) {\n            this.tipClass = TIP_RIGHT;\n        }\n        else {\n            this.tipClass = TIP_BOTTOM;\n        }\n    };\n    Tooltip.prototype.renderPopup = function (target) {\n        var elePos = this.mouseTrail ? { top: 0, left: 0 } : this.getTooltipPosition(target);\n        this.tooltipEle.classList.remove(POPUP_LIB);\n        this.popupObj = new Popup(this.tooltipEle, {\n            height: this.height,\n            width: this.width,\n            position: { X: elePos.left, Y: elePos.top },\n            enableRtl: this.enableRtl,\n            open: this.openPopupHandler.bind(this),\n            close: this.closePopupHandler.bind(this)\n        });\n    };\n    Tooltip.prototype.getTooltipPosition = function (target) {\n        this.tooltipEle.style.display = 'block';\n        var pos = calculatePosition(target, this.tooltipPositionX, this.tooltipPositionY, !this.isBodyContainer, this.isBodyContainer ? null : this.containerElement.getBoundingClientRect());\n        var offsetPos = this.calculateTooltipOffset(this.position);\n        var collisionPosition = this.calculateElementPosition(pos, offsetPos);\n        var collisionLeft = collisionPosition[0];\n        var collisionTop = collisionPosition[1];\n        var elePos = this.collisionFlipFit(target, collisionLeft, collisionTop);\n        this.tooltipEle.style.display = '';\n        return elePos;\n    };\n    Tooltip.prototype.windowResize = function () {\n        this.reposition(this.findTarget());\n    };\n    Tooltip.prototype.reposition = function (target) {\n        if (this.popupObj && target) {\n            var elePos = this.getTooltipPosition(target);\n            this.popupObj.position = { X: elePos.left, Y: elePos.top };\n            this.popupObj.dataBind();\n        }\n    };\n    Tooltip.prototype.openPopupHandler = function () {\n        if (!this.mouseTrail && this.needTemplateReposition()) {\n            this.reposition(this.findTarget());\n        }\n        this.trigger('afterOpen', this.tooltipEventArgs);\n    };\n    Tooltip.prototype.closePopupHandler = function () {\n        this.clearTemplate(['content']);\n        this.clear();\n        this.trigger('afterClose', this.tooltipEventArgs);\n    };\n    Tooltip.prototype.calculateTooltipOffset = function (position) {\n        var pos = { top: 0, left: 0 };\n        var tooltipEleWidth = this.tooltipEle.offsetWidth;\n        var tooltipEleHeight = this.tooltipEle.offsetHeight;\n        var arrowEle = select('.' + ARROW_TIP, this.tooltipEle);\n        var tipWidth = arrowEle ? arrowEle.offsetWidth : 0;\n        var tipHeight = arrowEle ? arrowEle.offsetHeight : 0;\n        var tipAdjust = (this.showTipPointer ? SHOW_POINTER_TIP_GAP : HIDE_POINTER_TIP_GAP);\n        var tipHeightAdjust = (tipHeight / 2) + POINTER_ADJUST + (this.tooltipEle.offsetHeight - this.tooltipEle.clientHeight);\n        var tipWidthAdjust = (tipWidth / 2) + POINTER_ADJUST + (this.tooltipEle.offsetWidth - this.tooltipEle.clientWidth);\n        if (this.mouseTrail) {\n            tipAdjust += MOUSE_TRAIL_GAP;\n        }\n        switch (position) {\n            case 'RightTop':\n                pos.left += tipWidth + tipAdjust;\n                pos.top -= tooltipEleHeight - tipHeightAdjust;\n                break;\n            case 'RightCenter':\n                pos.left += tipWidth + tipAdjust;\n                pos.top -= (tooltipEleHeight / 2);\n                break;\n            case 'RightBottom':\n                pos.left += tipWidth + tipAdjust;\n                pos.top -= (tipHeightAdjust);\n                break;\n            case 'BottomRight':\n                pos.top += (tipHeight + tipAdjust);\n                pos.left -= (tipWidthAdjust);\n                break;\n            case 'BottomCenter':\n                pos.top += (tipHeight + tipAdjust);\n                pos.left -= (tooltipEleWidth / 2);\n                break;\n            case 'BottomLeft':\n                pos.top += (tipHeight + tipAdjust);\n                pos.left -= (tooltipEleWidth - tipWidthAdjust);\n                break;\n            case 'LeftBottom':\n                pos.left -= (tipWidth + tooltipEleWidth + tipAdjust);\n                pos.top -= (tipHeightAdjust);\n                break;\n            case 'LeftCenter':\n                pos.left -= (tipWidth + tooltipEleWidth + tipAdjust);\n                pos.top -= (tooltipEleHeight / 2);\n                break;\n            case 'LeftTop':\n                pos.left -= (tipWidth + tooltipEleWidth + tipAdjust);\n                pos.top -= (tooltipEleHeight - tipHeightAdjust);\n                break;\n            case 'TopLeft':\n                pos.top -= (tooltipEleHeight + tipHeight + tipAdjust);\n                pos.left -= (tooltipEleWidth - tipWidthAdjust);\n                break;\n            case 'TopRight':\n                pos.top -= (tooltipEleHeight + tipHeight + tipAdjust);\n                pos.left -= (tipWidthAdjust);\n                break;\n            default:\n                pos.top -= (tooltipEleHeight + tipHeight + tipAdjust);\n                pos.left -= (tooltipEleWidth / 2);\n                break;\n        }\n        pos.left += this.offsetX;\n        pos.top += this.offsetY;\n        return pos;\n    };\n    Tooltip.prototype.updateTipPosition = function (position) {\n        var selEle = selectAll('.' + ARROW_TIP + ',.' + ARROW_TIP_OUTER + ',.' + ARROW_TIP_INNER, this.tooltipEle);\n        var removeList = [TIP_BOTTOM, TIP_TOP, TIP_LEFT, TIP_RIGHT];\n        removeClass(selEle, removeList);\n        this.setTipClass(position);\n        addClass(selEle, this.tipClass);\n    };\n    Tooltip.prototype.adjustArrow = function (target, position, tooltipPositionX, tooltipPositionY) {\n        if (this.showTipPointer === false) {\n            return;\n        }\n        this.updateTipPosition(position);\n        var leftValue;\n        var topValue;\n        this.tooltipEle.style.display = 'block';\n        var tooltipWidth = this.tooltipEle.clientWidth;\n        var tooltipHeight = this.tooltipEle.clientHeight;\n        var arrowEle = select('.' + ARROW_TIP, this.tooltipEle);\n        var arrowInnerELe = select('.' + ARROW_TIP_INNER, this.tooltipEle);\n        var tipWidth = arrowEle.offsetWidth;\n        var tipHeight = arrowEle.offsetHeight;\n        this.tooltipEle.style.display = '';\n        if (this.tipClass === TIP_BOTTOM || this.tipClass === TIP_TOP) {\n            if (this.tipClass === TIP_BOTTOM) {\n                topValue = '99.9%';\n                // Arrow icon aligned -2px height from ArrowOuterTip div\n                arrowInnerELe.style.top = '-' + (tipHeight - 2) + 'px';\n            }\n            else {\n                topValue = -(tipHeight - 1) + 'px';\n                // Arrow icon aligned -6px height from ArrowOuterTip div\n                arrowInnerELe.style.top = '-' + (tipHeight - 6) + 'px';\n            }\n            if (target) {\n                var tipPosExclude = tooltipPositionX !== 'Center' || (tooltipWidth > target.offsetWidth) || this.mouseTrail;\n                if ((tipPosExclude && tooltipPositionX === 'Left') || (!tipPosExclude && this.tipPointerPosition === 'End')) {\n                    leftValue = (tooltipWidth - tipWidth - POINTER_ADJUST) + 'px';\n                }\n                else if ((tipPosExclude && tooltipPositionX === 'Right') || (!tipPosExclude && this.tipPointerPosition === 'Start')) {\n                    leftValue = POINTER_ADJUST + 'px';\n                }\n                else {\n                    leftValue = ((tooltipWidth / 2) - (tipWidth / 2)) + 'px';\n                }\n            }\n        }\n        else {\n            if (this.tipClass === TIP_RIGHT) {\n                leftValue = '99.9%';\n                // Arrow icon aligned -2px left from ArrowOuterTip div\n                arrowInnerELe.style.left = '-' + (tipWidth - 2) + 'px';\n            }\n            else {\n                leftValue = -(tipWidth - 1) + 'px';\n                // Arrow icon aligned -2px from ArrowOuterTip width\n                arrowInnerELe.style.left = (-(tipWidth) + (tipWidth - 2)) + 'px';\n            }\n            var tipPosExclude = tooltipPositionY !== 'Center' || (tooltipHeight > target.offsetHeight) || this.mouseTrail;\n            if ((tipPosExclude && tooltipPositionY === 'Top') || (!tipPosExclude && this.tipPointerPosition === 'End')) {\n                topValue = (tooltipHeight - tipHeight - POINTER_ADJUST) + 'px';\n            }\n            else if ((tipPosExclude && tooltipPositionY === 'Bottom') || (!tipPosExclude && this.tipPointerPosition === 'Start')) {\n                topValue = POINTER_ADJUST + 'px';\n            }\n            else {\n                topValue = ((tooltipHeight / 2) - (tipHeight / 2)) + 'px';\n            }\n        }\n        arrowEle.style.top = topValue;\n        arrowEle.style.left = leftValue;\n    };\n    Tooltip.prototype.renderContent = function (target) {\n        var tooltipContent = select('.' + CONTENT, this.tooltipEle);\n        if (this.cssClass) {\n            addClass([this.tooltipEle], this.cssClass.split(' '));\n        }\n        if (target && !isNullOrUndefined(target.getAttribute('title'))) {\n            target.setAttribute('data-content', target.getAttribute('title'));\n            target.removeAttribute('title');\n        }\n        if (!isNullOrUndefined(this.content)) {\n            tooltipContent.innerHTML = '';\n            if (this.content instanceof HTMLElement) {\n                tooltipContent.appendChild(this.content);\n            }\n            else if (typeof this.content === 'string') {\n                if (this.enableHtmlSanitizer) {\n                    this.setProperties({ content: SanitizeHtmlHelper.sanitize(this.content) }, true);\n                }\n                // eslint-disable-next-line\n                var tempFunction = compile(this.content);\n                var tempArr = tempFunction({}, this, 'content', this.element.id + 'content', undefined, undefined, tooltipContent);\n                if (tempArr) {\n                    if (this.enableHtmlParse) {\n                        var nodeList = tempArr.length;\n                        for (var i = 0; i < nodeList; i++) {\n                            append(tempArr, tooltipContent);\n                        }\n                    }\n                    else {\n                        tooltipContent['textContent'] = this.content;\n                    }\n                    this.enableHtmlParse ? append(tempArr, tooltipContent) : tooltipContent['textContent'] = this.content;\n                }\n            }\n            else {\n                // eslint-disable-next-line\n                var templateFunction = compile(this.content);\n                var tempArr = templateFunction({}, this, 'content', this.element.id + 'content', undefined, undefined, tooltipContent);\n                if (tempArr) {\n                    append(tempArr, tooltipContent);\n                }\n                this.renderReactTemplates();\n            }\n        }\n        else {\n            if (target && !isNullOrUndefined(target.getAttribute('data-content'))) {\n                tooltipContent.innerHTML = target.getAttribute('data-content');\n            }\n        }\n    };\n    Tooltip.prototype.renderCloseIcon = function () {\n        if (!this.isSticky) {\n            return;\n        }\n        var tipClose = this.createElement('div', { className: ICON + ' ' + CLOSE });\n        this.tooltipEle.appendChild(tipClose);\n        EventHandler.add(tipClose, Browser.touchStartEvent, this.onStickyClose, this);\n    };\n    Tooltip.prototype.addDescribedBy = function (target, id) {\n        var describedby = (target.getAttribute('aria-describedby') || '').split(/\\s+/);\n        if (describedby.indexOf(id) < 0) {\n            describedby.push(id);\n        }\n        attributes(target, { 'aria-describedby': describedby.join(' ').trim(), 'data-tooltip-id': id });\n    };\n    Tooltip.prototype.removeDescribedBy = function (target) {\n        var id = target.getAttribute('data-tooltip-id');\n        var describedby = (target.getAttribute('aria-describedby') || '').split(/\\s+/);\n        var index = describedby.indexOf(id);\n        if (index !== -1) {\n            describedby.splice(index, 1);\n        }\n        target.removeAttribute('data-tooltip-id');\n        var orgdescribedby = describedby.join(' ').trim();\n        if (orgdescribedby) {\n            target.setAttribute('aria-describedby', orgdescribedby);\n        }\n        else {\n            target.removeAttribute('aria-describedby');\n        }\n    };\n    Tooltip.prototype.tapHoldHandler = function (evt) {\n        clearTimeout(this.autoCloseTimer);\n        this.targetHover(evt.originalEvent);\n    };\n    Tooltip.prototype.touchEndHandler = function (e) {\n        var _this = this;\n        if (this.isSticky) {\n            return;\n        }\n        // eslint-disable-next-line\n        var close = function () {\n            _this.close();\n        };\n        this.autoCloseTimer = setTimeout(close, TOUCHEND_HIDE_DELAY);\n    };\n    Tooltip.prototype.targetClick = function (e) {\n        var target;\n        if (this.target) {\n            target = closest(e.target, this.target);\n        }\n        else {\n            target = this.element;\n        }\n        if (isNullOrUndefined(target)) {\n            return;\n        }\n        if (target.getAttribute('data-tooltip-id') === null) {\n            this.targetHover(e);\n        }\n        else if (!this.isSticky) {\n            this.hideTooltip(this.animation.close, e, target);\n        }\n    };\n    Tooltip.prototype.targetHover = function (e) {\n        var target;\n        if (this.target) {\n            target = closest(e.target, this.target);\n        }\n        else {\n            target = this.element;\n        }\n        if (isNullOrUndefined(target) || (target.getAttribute('data-tooltip-id') !== null && this.closeDelay === 0)) {\n            return;\n        }\n        var targetList = [].slice.call(selectAll('[data-tooltip-id= \"' + this.ctrlId + '_content\"]', document));\n        for (var _i = 0, targetList_1 = targetList; _i < targetList_1.length; _i++) {\n            var target_1 = targetList_1[_i];\n            this.restoreElement(target_1);\n        }\n        this.showTooltip(target, this.animation.open, e);\n    };\n    Tooltip.prototype.mouseMoveBeforeOpen = function (e) {\n        this.mouseMoveEvent = e;\n    };\n    Tooltip.prototype.mouseMoveBeforeRemove = function () {\n        if (this.mouseMoveTarget) {\n            EventHandler.remove(this.mouseMoveTarget, 'mousemove touchstart', this.mouseMoveBeforeOpen);\n        }\n    };\n    Tooltip.prototype.showTooltip = function (target, showAnimation, e) {\n        var _this = this;\n        clearTimeout(this.showTimer);\n        clearTimeout(this.hideTimer);\n        if (this.openDelay && this.mouseTrail) {\n            this.mouseMoveBeforeRemove();\n            this.mouseMoveTarget = target;\n            EventHandler.add(this.mouseMoveTarget, 'mousemove touchstart', this.mouseMoveBeforeOpen, this);\n        }\n        this.tooltipEventArgs = {\n            type: e ? e.type : null, cancel: false, target: target, event: e ? e : null,\n            element: this.tooltipEle, isInteracted: !isNullOrUndefined(e)\n        };\n        // eslint-disable-next-line\n        var observeCallback = function (beforeRenderArgs) {\n            _this.beforeRenderCallback(beforeRenderArgs, target, e, showAnimation);\n        };\n        this.trigger('beforeRender', this.tooltipEventArgs, observeCallback.bind(this));\n    };\n    Tooltip.prototype.beforeRenderCallback = function (beforeRenderArgs, target, e, showAnimation) {\n        if (beforeRenderArgs.cancel) {\n            this.isHidden = true;\n            this.clear();\n            this.mouseMoveBeforeRemove();\n        }\n        else {\n            this.isHidden = false;\n            if (isNullOrUndefined(this.tooltipEle)) {\n                this.ctrlId = this.element.getAttribute('id') ?\n                    getUniqueID(this.element.getAttribute('id')) : getUniqueID('tooltip');\n                this.tooltipEle = this.createElement('div', {\n                    className: TOOLTIP_WRAP + ' ' + POPUP_ROOT + ' ' + POPUP_LIB, attrs: {\n                        role: 'tooltip', 'aria-hidden': 'false', 'id': this.ctrlId + '_content'\n                    }, styles: 'width:' +\n                        formatUnit(this.width) + ';height:' + formatUnit(this.height) + ';position:absolute;'\n                });\n                this.tooltipBeforeRender(target, this);\n                this.tooltipAfterRender(target, e, showAnimation, this);\n            }\n            else {\n                if (target) {\n                    this.adjustArrow(target, this.position, this.tooltipPositionX, this.tooltipPositionY);\n                    this.addDescribedBy(target, this.ctrlId + '_content');\n                    this.renderContent(target);\n                    PopupAnimation.stop(this.tooltipEle);\n                    this.reposition(target);\n                    this.tooltipAfterRender(target, e, showAnimation, this);\n                }\n            }\n        }\n    };\n    Tooltip.prototype.appendContainer = function (ctrlObj) {\n        if (typeof this.container == 'string') {\n            if (this.container === 'body') {\n                this.containerElement = document.body;\n            }\n            else {\n                this.isBodyContainer = false;\n                this.containerElement = select(this.container, document);\n            }\n        }\n        else if (this.container instanceof HTMLElement) {\n            this.containerElement = this.container;\n            this.isBodyContainer = this.containerElement.tagName === 'BODY';\n        }\n        if (!this.isBodyContainer) {\n            addClass([this.containerElement], POPUP_CONTAINER);\n        }\n        this.containerElement.appendChild(ctrlObj.tooltipEle);\n    };\n    Tooltip.prototype.tooltipBeforeRender = function (target, ctrlObj) {\n        if (target) {\n            if (Browser.isDevice) {\n                addClass([ctrlObj.tooltipEle], DEVICE);\n            }\n            if (ctrlObj.width !== 'auto') {\n                ctrlObj.tooltipEle.style.maxWidth = formatUnit(ctrlObj.width);\n            }\n            ctrlObj.tooltipEle.appendChild(ctrlObj.createElement('div', { className: CONTENT }));\n            this.appendContainer(ctrlObj);\n            removeClass([ctrlObj.tooltipEle], HIDE_POPUP);\n            ctrlObj.addDescribedBy(target, ctrlObj.ctrlId + '_content');\n            ctrlObj.renderContent(target);\n            addClass([ctrlObj.tooltipEle], POPUP_OPEN);\n            if (ctrlObj.showTipPointer) {\n                ctrlObj.renderArrow();\n            }\n            ctrlObj.renderCloseIcon();\n            ctrlObj.renderPopup(target);\n            ctrlObj.adjustArrow(target, ctrlObj.position, ctrlObj.tooltipPositionX, ctrlObj.tooltipPositionY);\n            PopupAnimation.stop(ctrlObj.tooltipEle);\n            ctrlObj.reposition(target);\n        }\n    };\n    Tooltip.prototype.tooltipAfterRender = function (target, e, showAnimation, ctrlObj) {\n        if (target) {\n            removeClass([ctrlObj.tooltipEle], POPUP_OPEN);\n            addClass([ctrlObj.tooltipEle], POPUP_CLOSE);\n            ctrlObj.tooltipEventArgs = {\n                type: e ? e.type : null, cancel: false, target: target, event: e ? e : null,\n                element: ctrlObj.tooltipEle, isInteracted: !isNullOrUndefined(e)\n            };\n            if (ctrlObj.needTemplateReposition() && !ctrlObj.mouseTrail) {\n                ctrlObj.tooltipEle.style.display = 'none';\n            }\n            // eslint-disable-next-line\n            var observeCallback = function (observedArgs) {\n                ctrlObj.beforeOpenCallback(observedArgs, target, showAnimation, e);\n            };\n            ctrlObj.trigger('beforeOpen', ctrlObj.tooltipEventArgs, observeCallback.bind(ctrlObj));\n        }\n    };\n    Tooltip.prototype.beforeOpenCallback = function (observedArgs, target, showAnimation, e) {\n        var _this = this;\n        if (observedArgs.cancel) {\n            this.isHidden = true;\n            this.clear();\n            this.mouseMoveBeforeRemove();\n            this.restoreElement(target);\n        }\n        else {\n            // eslint-disable-next-line\n            var openAnimation_1 = {\n                name: showAnimation.effect,\n                duration: showAnimation.duration,\n                delay: showAnimation.delay,\n                timingFunction: 'easeOut'\n            };\n            if (showAnimation.effect === 'None') {\n                openAnimation_1 = undefined;\n            }\n            if (this.openDelay > 0) {\n                // eslint-disable-next-line\n                var show = function () {\n                    if (_this.mouseTrail) {\n                        EventHandler.add(target, 'mousemove touchstart mouseenter', _this.onMouseMove, _this);\n                    }\n                    if (_this.popupObj) {\n                        _this.popupObj.show(openAnimation_1, target);\n                        if (_this.mouseMoveEvent && _this.mouseTrail) {\n                            _this.onMouseMove(_this.mouseMoveEvent);\n                        }\n                    }\n                };\n                this.showTimer = setTimeout(show, this.openDelay);\n            }\n            else {\n                if (this.popupObj) {\n                    this.popupObj.show(openAnimation_1, target);\n                }\n            }\n        }\n        if (e) {\n            this.wireMouseEvents(e, target);\n        }\n    };\n    Tooltip.prototype.needTemplateReposition = function () {\n        // eslint-disable-next-line\n        var tooltip = this;\n        return !isNullOrUndefined(tooltip.viewContainerRef)\n            && typeof tooltip.viewContainerRef !== 'string';\n    };\n    Tooltip.prototype.checkCollision = function (target, x, y) {\n        var elePos = {\n            left: x, top: y, position: this.position,\n            horizontal: this.tooltipPositionX, vertical: this.tooltipPositionY\n        };\n        var affectedPos = isCollide(this.tooltipEle, this.checkCollideTarget(), x, y);\n        if (affectedPos.length > 0) {\n            elePos.horizontal = affectedPos.indexOf('left') >= 0 ? 'Right' : affectedPos.indexOf('right') >= 0 ? 'Left' :\n                this.tooltipPositionX;\n            elePos.vertical = affectedPos.indexOf('top') >= 0 ? 'Bottom' : affectedPos.indexOf('bottom') >= 0 ? 'Top' :\n                this.tooltipPositionY;\n        }\n        return elePos;\n    };\n    Tooltip.prototype.calculateElementPosition = function (pos, offsetPos) {\n        return [this.isBodyContainer ? pos.left + offsetPos.left :\n                (pos.left - this.containerElement.offsetLeft) + offsetPos.left + window.pageXOffset + this.containerElement.scrollLeft,\n            this.isBodyContainer ? pos.top + offsetPos.top :\n                (pos.top - this.containerElement.offsetTop) + offsetPos.top + window.pageYOffset + this.containerElement.scrollTop];\n    };\n    Tooltip.prototype.collisionFlipFit = function (target, x, y) {\n        var elePos = this.checkCollision(target, x, y);\n        var newpos = elePos.position;\n        if (this.tooltipPositionY !== elePos.vertical) {\n            newpos = ((this.position.indexOf('Bottom') === 0 || this.position.indexOf('Top') === 0) ?\n                elePos.vertical + this.tooltipPositionX : this.tooltipPositionX + elePos.vertical);\n        }\n        if (this.tooltipPositionX !== elePos.horizontal) {\n            if (newpos.indexOf('Left') === 0) {\n                elePos.vertical = (newpos === 'LeftTop' || newpos === 'LeftCenter') ? 'Top' : 'Bottom';\n                newpos = (elePos.vertical + 'Left');\n            }\n            if (newpos.indexOf('Right') === 0) {\n                elePos.vertical = (newpos === 'RightTop' || newpos === 'RightCenter') ? 'Top' : 'Bottom';\n                newpos = (elePos.vertical + 'Right');\n            }\n            elePos.horizontal = this.tooltipPositionX;\n        }\n        this.tooltipEventArgs = {\n            type: null, cancel: false, target: target, event: null,\n            element: this.tooltipEle, collidedPosition: newpos\n        };\n        this.trigger('beforeCollision', this.tooltipEventArgs);\n        var elePosVertical = elePos.vertical;\n        var elePosHorizontal = elePos.horizontal;\n        if (elePos.position !== newpos) {\n            var pos = calculatePosition(target, elePosHorizontal, elePosVertical, !this.isBodyContainer, this.isBodyContainer ? null : this.containerElement.getBoundingClientRect());\n            this.adjustArrow(target, newpos, elePosHorizontal, elePosVertical);\n            var offsetPos = this.calculateTooltipOffset(newpos);\n            offsetPos.top -= this.getOffSetPosition('TopBottom', newpos, this.offsetY);\n            offsetPos.left -= this.getOffSetPosition('RightLeft', newpos, this.offsetX);\n            elePos.position = newpos;\n            var elePosition = this.calculateElementPosition(pos, offsetPos);\n            elePos.left = elePosition[0];\n            elePos.top = elePosition[1];\n        }\n        else {\n            this.adjustArrow(target, newpos, elePosHorizontal, elePosVertical);\n        }\n        var eleOffset = { left: elePos.left, top: elePos.top };\n        var left = this.isBodyContainer ?\n            fit(this.tooltipEle, this.checkCollideTarget(), { X: true, Y: false }, eleOffset).left : eleOffset.left;\n        this.tooltipEle.style.display = 'block';\n        if (this.showTipPointer && (newpos.indexOf('Bottom') === 0 || newpos.indexOf('Top') === 0)) {\n            var arrowEle = select('.' + ARROW_TIP, this.tooltipEle);\n            var arrowleft = parseInt(arrowEle.style.left, 10) - (left - elePos.left);\n            if (arrowleft < 0) {\n                arrowleft = 0;\n            }\n            else if ((arrowleft + arrowEle.offsetWidth) > this.tooltipEle.clientWidth) {\n                arrowleft = this.tooltipEle.clientWidth - arrowEle.offsetWidth;\n            }\n            arrowEle.style.left = arrowleft.toString() + 'px';\n        }\n        this.tooltipEle.style.display = '';\n        eleOffset.left = left;\n        return eleOffset;\n    };\n    Tooltip.prototype.getOffSetPosition = function (positionString, newPos, offsetType) {\n        return ((positionString.indexOf(this.position.split(/(?=[A-Z])/)[0]) !== -1) &&\n            (positionString.indexOf(newPos.split(/(?=[A-Z])/)[0]) !== -1)) ? (2 * offsetType) : 0;\n    };\n    Tooltip.prototype.checkCollideTarget = function () {\n        return !this.windowCollision && this.target ? this.element : null;\n    };\n    Tooltip.prototype.hideTooltip = function (hideAnimation, e, targetElement) {\n        var _this = this;\n        if (this.closeDelay > 0) {\n            clearTimeout(this.hideTimer);\n            clearTimeout(this.showTimer);\n            // eslint-disable-next-line\n            var hide = function () {\n                if (_this.closeDelay && _this.tooltipEle && _this.isTooltipOpen) {\n                    return;\n                }\n                _this.tooltipHide(hideAnimation, e, targetElement);\n            };\n            this.hideTimer = setTimeout(hide, this.closeDelay);\n        }\n        else {\n            this.tooltipHide(hideAnimation, e, targetElement);\n        }\n    };\n    Tooltip.prototype.tooltipHide = function (hideAnimation, e, targetElement) {\n        var _this = this;\n        var target;\n        if (e) {\n            target = this.target ? (targetElement || e.target) : this.element;\n        }\n        else {\n            target = select('[data-tooltip-id= \"' + this.ctrlId + '_content\"]', document);\n        }\n        this.tooltipEventArgs = {\n            type: e ? e.type : null, cancel: false, target: target, event: e ? e : null,\n            element: this.tooltipEle, isInteracted: !isNullOrUndefined(e)\n        };\n        // this line commented for close the tooltip popup element even the target element destroyed in a page.\n        //if (isNullOrUndefined(target)) { return; }\n        this.trigger('beforeClose', this.tooltipEventArgs, function (observedArgs) {\n            if (!observedArgs.cancel) {\n                _this.mouseMoveBeforeRemove();\n                _this.popupHide(hideAnimation, target);\n            }\n            else {\n                _this.isHidden = false;\n            }\n        });\n    };\n    Tooltip.prototype.popupHide = function (hideAnimation, target) {\n        if (target) {\n            this.restoreElement(target);\n        }\n        this.isHidden = true;\n        // eslint-disable-next-line\n        var closeAnimation = {\n            name: hideAnimation.effect,\n            duration: hideAnimation.duration,\n            delay: hideAnimation.delay,\n            timingFunction: 'easeIn'\n        };\n        if (hideAnimation.effect === 'None') {\n            closeAnimation = undefined;\n        }\n        if (this.popupObj) {\n            this.popupObj.hide(closeAnimation);\n        }\n    };\n    Tooltip.prototype.restoreElement = function (target) {\n        this.unwireMouseEvents(target);\n        if (!isNullOrUndefined(target.getAttribute('data-content'))) {\n            target.setAttribute('title', target.getAttribute('data-content'));\n            target.removeAttribute('data-content');\n        }\n        this.removeDescribedBy(target);\n    };\n    Tooltip.prototype.clear = function () {\n        if (this.tooltipEle) {\n            removeClass([this.tooltipEle], POPUP_CLOSE);\n            addClass([this.tooltipEle], POPUP_OPEN);\n        }\n        if (this.isHidden) {\n            if (this.popupObj) {\n                this.popupObj.destroy();\n            }\n            if (this.tooltipEle) {\n                remove(this.tooltipEle);\n            }\n            this.tooltipEle = null;\n            this.popupObj = null;\n        }\n    };\n    Tooltip.prototype.tooltipHover = function (e) {\n        if (this.tooltipEle) {\n            this.isTooltipOpen = true;\n        }\n    };\n    Tooltip.prototype.tooltipMouseOut = function (e) {\n        this.isTooltipOpen = false;\n        this.hideTooltip(this.animation.close, e, this.findTarget());\n    };\n    Tooltip.prototype.onMouseOut = function (e) {\n        var enteredElement = e.relatedTarget;\n        // don't close the tooltip only if it is tooltip content element\n        if (enteredElement && !this.mouseTrail) {\n            var checkForTooltipElement = closest(enteredElement, \".\" + TOOLTIP_WRAP + \".\" + POPUP_LIB + \".\" + POPUP_ROOT);\n            if (checkForTooltipElement) {\n                EventHandler.add(checkForTooltipElement, 'mouseleave', this.tooltipElementMouseOut, this);\n            }\n            else {\n                this.hideTooltip(this.animation.close, e, this.findTarget());\n                if (this.closeDelay === 0) {\n                    this.clear();\n                }\n            }\n        }\n        else {\n            this.hideTooltip(this.animation.close, e, this.findTarget());\n            this.clear();\n        }\n    };\n    Tooltip.prototype.tooltipElementMouseOut = function (e) {\n        this.hideTooltip(this.animation.close, e, this.findTarget());\n        EventHandler.remove(this.element, 'mouseleave', this.tooltipElementMouseOut);\n        this.clear();\n    };\n    Tooltip.prototype.onStickyClose = function (e) {\n        this.close();\n    };\n    Tooltip.prototype.onMouseMove = function (event) {\n        var eventPageX = 0;\n        var eventPageY = 0;\n        if (event.type.indexOf('touch') > -1) {\n            event.preventDefault();\n            eventPageX = event.touches[0].pageX;\n            eventPageY = event.touches[0].pageY;\n        }\n        else {\n            eventPageX = event.pageX;\n            eventPageY = event.pageY;\n        }\n        PopupAnimation.stop(this.tooltipEle);\n        removeClass([this.tooltipEle], POPUP_CLOSE);\n        addClass([this.tooltipEle], POPUP_OPEN);\n        this.adjustArrow(event.target, this.position, this.tooltipPositionX, this.tooltipPositionY);\n        var pos = this.calculateTooltipOffset(this.position);\n        var x = eventPageX + pos.left + this.offsetX;\n        var y = eventPageY + pos.top + this.offsetY;\n        var elePos = this.checkCollision(event.target, x, y);\n        if (this.tooltipPositionX !== elePos.horizontal || this.tooltipPositionY !== elePos.vertical) {\n            var newpos = (this.position.indexOf('Bottom') === 0 || this.position.indexOf('Top') === 0) ?\n                elePos.vertical + elePos.horizontal : elePos.horizontal + elePos.vertical;\n            elePos.position = newpos;\n            this.adjustArrow(event.target, elePos.position, elePos.horizontal, elePos.vertical);\n            var colpos = this.calculateTooltipOffset(elePos.position);\n            elePos.left = eventPageX + colpos.left - this.offsetX;\n            elePos.top = eventPageY + colpos.top - this.offsetY;\n        }\n        this.tooltipEle.style.left = elePos.left + 'px';\n        this.tooltipEle.style.top = elePos.top + 'px';\n    };\n    Tooltip.prototype.keyDown = function (event) {\n        if (this.tooltipEle && event.keyCode === 27) {\n            this.close();\n        }\n    };\n    Tooltip.prototype.touchEnd = function (e) {\n        if (this.tooltipEle && closest(e.target, '.' + ROOT) === null && !this.isSticky) {\n            this.close();\n        }\n    };\n    Tooltip.prototype.scrollHandler = function (e) {\n        if (this.tooltipEle) {\n            if (!(closest(e.target, \".\" + TOOLTIP_WRAP + \".\" + POPUP_LIB + \".\" + POPUP_ROOT))) {\n                this.close();\n            }\n        }\n    };\n    /**\n     * Core method that initializes the control rendering.\n     *\n     * @private\n     * @returns {void}\n     */\n    Tooltip.prototype.render = function () {\n        this.initialize();\n        this.wireEvents(this.opensOn);\n        this.renderComplete();\n    };\n    /**\n     * Initializes the values of private members.\n     *\n     * @private\n     * @returns {void}\n     */\n    Tooltip.prototype.preRender = function () {\n        this.tipClass = TIP_BOTTOM;\n        this.tooltipPositionX = 'Center';\n        this.tooltipPositionY = 'Top';\n        this.isHidden = true;\n    };\n    /**\n     * Binding events to the Tooltip element.\n     *\n     * @hidden\n     * @param {string} trigger - specify the trigger string to the function\n     * @returns {void}\n     *\n     */\n    Tooltip.prototype.wireEvents = function (trigger) {\n        var triggerList = this.getTriggerList(trigger);\n        for (var _i = 0, triggerList_1 = triggerList; _i < triggerList_1.length; _i++) {\n            var opensOn = triggerList_1[_i];\n            if (opensOn === 'Custom') {\n                return;\n            }\n            if (opensOn === 'Focus') {\n                this.wireFocusEvents();\n            }\n            if (opensOn === 'Click') {\n                EventHandler.add(this.element, Browser.touchStartEvent, this.targetClick, this);\n            }\n            if (opensOn === 'Hover') {\n                if (Browser.isDevice) {\n                    this.touchModule = new Touch(this.element, {\n                        tapHoldThreshold: TAPHOLD_THRESHOLD,\n                        tapHold: this.tapHoldHandler.bind(this)\n                    });\n                    EventHandler.add(this.element, Browser.touchEndEvent, this.touchEndHandler, this);\n                }\n                else {\n                    EventHandler.add(this.element, 'mouseover', this.targetHover, this);\n                }\n            }\n        }\n        EventHandler.add(document, 'touchend', this.touchEnd, this);\n        EventHandler.add(document, 'scroll wheel', this.scrollHandler, this);\n        EventHandler.add(window, 'resize', this.windowResize, this);\n        EventHandler.add(document, 'keydown', this.keyDown, this);\n    };\n    Tooltip.prototype.getTriggerList = function (trigger) {\n        if (trigger === 'Auto') {\n            trigger = (Browser.isDevice) ? 'Hover' : 'Hover Focus';\n        }\n        return trigger.split(' ');\n    };\n    Tooltip.prototype.wireFocusEvents = function () {\n        if (!isNullOrUndefined(this.target)) {\n            var targetList = [].slice.call(selectAll(this.target, this.element));\n            for (var _i = 0, targetList_2 = targetList; _i < targetList_2.length; _i++) {\n                var target = targetList_2[_i];\n                EventHandler.add(target, 'focus', this.targetHover, this);\n            }\n        }\n        else {\n            EventHandler.add(this.element, 'focus', this.targetHover, this);\n        }\n    };\n    Tooltip.prototype.wireMouseEvents = function (e, target) {\n        if (this.tooltipEle) {\n            if (!this.isSticky) {\n                if (e.type === 'focus') {\n                    EventHandler.add(target, 'blur', this.onMouseOut, this);\n                }\n                if (e.type === 'mouseover') {\n                    EventHandler.add(target, 'mouseleave', this.onMouseOut, this);\n                }\n                if (this.closeDelay) {\n                    EventHandler.add(this.tooltipEle, 'mouseenter', this.tooltipHover, this);\n                    EventHandler.add(this.tooltipEle, 'mouseleave', this.tooltipMouseOut, this);\n                }\n            }\n            if (this.mouseTrail && this.openDelay === 0) {\n                EventHandler.add(target, 'mousemove touchstart mouseenter', this.onMouseMove, this);\n            }\n        }\n    };\n    /**\n     * Unbinding events from the element on widget destroy.\n     *\n     * @hidden\n     *\n     * @param {string} trigger - specify the trigger string to the function\n     * @returns {void}\n     *\n     */\n    Tooltip.prototype.unwireEvents = function (trigger) {\n        var triggerList = this.getTriggerList(trigger);\n        for (var _i = 0, triggerList_2 = triggerList; _i < triggerList_2.length; _i++) {\n            var opensOn = triggerList_2[_i];\n            if (opensOn === 'Custom') {\n                return;\n            }\n            if (opensOn === 'Focus') {\n                this.unwireFocusEvents();\n            }\n            if (opensOn === 'Click') {\n                EventHandler.remove(this.element, Browser.touchStartEvent, this.targetClick);\n            }\n            if (opensOn === 'Hover') {\n                if (Browser.isDevice) {\n                    if (this.touchModule) {\n                        this.touchModule.destroy();\n                    }\n                    EventHandler.remove(this.element, Browser.touchEndEvent, this.touchEndHandler);\n                }\n                else {\n                    EventHandler.remove(this.element, 'mouseover', this.targetHover);\n                }\n            }\n        }\n        EventHandler.remove(document, 'touchend', this.touchEnd);\n        EventHandler.remove(document, 'scroll wheel', this.scrollHandler);\n        EventHandler.remove(window, 'resize', this.windowResize);\n        EventHandler.remove(document, 'keydown', this.keyDown);\n    };\n    Tooltip.prototype.unwireFocusEvents = function () {\n        if (!isNullOrUndefined(this.target)) {\n            var targetList = [].slice.call(selectAll(this.target, this.element));\n            for (var _i = 0, targetList_3 = targetList; _i < targetList_3.length; _i++) {\n                var target = targetList_3[_i];\n                EventHandler.remove(target, 'focus', this.targetHover);\n            }\n        }\n        else {\n            EventHandler.remove(this.element, 'focus', this.targetHover);\n        }\n    };\n    Tooltip.prototype.unwireMouseEvents = function (target) {\n        if (!this.isSticky) {\n            var triggerList = this.getTriggerList(this.opensOn);\n            for (var _i = 0, triggerList_3 = triggerList; _i < triggerList_3.length; _i++) {\n                var opensOn = triggerList_3[_i];\n                if (opensOn === 'Focus') {\n                    EventHandler.remove(target, 'blur', this.onMouseOut);\n                }\n                if (opensOn === 'Hover' && !Browser.isDevice) {\n                    EventHandler.remove(target, 'mouseleave', this.onMouseOut);\n                }\n            }\n            if (this.closeDelay) {\n                EventHandler.remove(target, 'mouseenter', this.tooltipHover);\n                EventHandler.remove(target, 'mouseleave', this.tooltipMouseOut);\n            }\n        }\n        if (this.mouseTrail) {\n            EventHandler.remove(target, 'mousemove touchstart mouseenter', this.onMouseMove);\n        }\n    };\n    Tooltip.prototype.findTarget = function () {\n        var target = select('[data-tooltip-id= \"' + this.ctrlId + '_content\"]', document);\n        return target;\n    };\n    /**\n     * Core method to return the component name.\n     *\n     * @private\n     *\n     * @returns {string} - this method returns module name.\n     */\n    Tooltip.prototype.getModuleName = function () {\n        return 'tooltip';\n    };\n    /**\n     * Returns the properties to be maintained in the persisted state.\n     *\n     * @private\n     *\n     * @returns {string} - this method returns persisted data.\n     */\n    Tooltip.prototype.getPersistData = function () {\n        return this.addOnPersist([]);\n    };\n    /**\n     * Called internally, if any of the property value changed.\n     *\n     * @private\n     *\n     * @param {TooltipModel} newProp - this param gives new property values to the method\n     * @param {TooltipModel} oldProp - this param gives old property values to the method\n     * @returns {void}\n     *\n     */\n    Tooltip.prototype.onPropertyChanged = function (newProp, oldProp) {\n        var targetElement = this.findTarget();\n        for (var _i = 0, _a = Object.keys(newProp); _i < _a.length; _i++) {\n            var prop = _a[_i];\n            switch (prop) {\n                case 'width':\n                    if (this.tooltipEle && targetElement) {\n                        this.tooltipEle.style.width = this.tooltipEle.style.maxWidth = formatUnit(newProp.width);\n                        this.reposition(targetElement);\n                    }\n                    break;\n                case 'height':\n                    if (this.tooltipEle && targetElement) {\n                        this.tooltipEle.style.height = formatUnit(newProp.height);\n                        this.reposition(targetElement);\n                    }\n                    break;\n                case 'content':\n                    if (this.tooltipEle) {\n                        this.renderContent();\n                    }\n                    break;\n                case 'opensOn':\n                    this.unwireEvents(oldProp.opensOn);\n                    this.wireEvents(newProp.opensOn);\n                    break;\n                case 'position':\n                    this.formatPosition();\n                    if (this.tooltipEle && targetElement) {\n                        var arrowInnerELe = select('.' + ARROW_TIP_INNER, this.tooltipEle);\n                        arrowInnerELe.style.top = arrowInnerELe.style.left = null;\n                        this.reposition(targetElement);\n                    }\n                    break;\n                case 'tipPointerPosition':\n                    if (this.tooltipEle && targetElement) {\n                        this.reposition(targetElement);\n                    }\n                    break;\n                case 'offsetX':\n                    if (this.tooltipEle) {\n                        var x = newProp.offsetX - oldProp.offsetX;\n                        this.tooltipEle.style.left = (parseInt(this.tooltipEle.style.left, 10) + (x)).toString() + 'px';\n                    }\n                    break;\n                case 'offsetY':\n                    if (this.tooltipEle) {\n                        var y = newProp.offsetY - oldProp.offsetY;\n                        this.tooltipEle.style.top = (parseInt(this.tooltipEle.style.top, 10) + (y)).toString() + 'px';\n                    }\n                    break;\n                case 'cssClass':\n                    if (this.tooltipEle) {\n                        if (oldProp.cssClass) {\n                            removeClass([this.tooltipEle], oldProp.cssClass.split(' '));\n                        }\n                        if (newProp.cssClass) {\n                            addClass([this.tooltipEle], newProp.cssClass.split(' '));\n                        }\n                    }\n                    break;\n                case 'enableRtl':\n                    if (this.tooltipEle) {\n                        if (this.enableRtl) {\n                            addClass([this.tooltipEle], RTL);\n                        }\n                        else {\n                            removeClass([this.tooltipEle], RTL);\n                        }\n                    }\n                    break;\n                case 'container':\n                    if (!isNullOrUndefined(this.containerElement)) {\n                        removeClass([this.containerElement], POPUP_CONTAINER);\n                    }\n                    this.container = newProp.container;\n                    if (this.tooltipEle && targetElement) {\n                        this.appendContainer(this);\n                        this.reposition(targetElement);\n                    }\n            }\n        }\n    };\n    /**\n     * It is used to show the Tooltip on the specified target with specific animation settings.\n     *\n     * @param {HTMLElement} element - Target element where the Tooltip is to be displayed. (It is an optional parameter)\n     * @param {TooltipAnimationSettings} animation - Sets the specific animation, while showing the Tooltip on the screen. (It is an optional parameter)\n     * @returns {void}\n     */\n    Tooltip.prototype.open = function (element, animation) {\n        if (isNullOrUndefined(animation)) {\n            animation = this.animation.open;\n        }\n        if (isNullOrUndefined(element)) {\n            element = this.element;\n        }\n        if (element.style.display === 'none') {\n            return;\n        }\n        this.showTooltip(element, animation);\n    };\n    /**\n     * It is used to hide the Tooltip with specific animation effect.\n     *\n     * @param {TooltipAnimationSettings} animation - Sets the specific animation when hiding Tooltip from the screen. (It is an optional parameter)\n     * @returns {void}\n     */\n    Tooltip.prototype.close = function (animation) {\n        if (!animation) {\n            animation = this.animation.close;\n        }\n        this.hideTooltip(animation);\n    };\n    /**\n     * It is used to refresh the Tooltip content and its position.\n     *\n     * @param {HTMLElement} target - Target element where the Tooltip content or position needs to be refreshed.\n     * @returns {void}\n     */\n    Tooltip.prototype.refresh = function (target) {\n        if (this.tooltipEle) {\n            this.renderContent(target);\n        }\n        if (this.popupObj && target) {\n            this.reposition(target);\n        }\n    };\n    /**\n     * It is used to destroy the Tooltip component.\n     * @method destroy\n     * @returns {void}\n     * @memberof Tooltip\n     */\n    Tooltip.prototype.destroy = function () {\n        _super.prototype.destroy.call(this);\n        if (this.tooltipEle) {\n            remove(this.tooltipEle);\n        }\n        if (this.popupObj) {\n            this.popupObj.destroy();\n        }\n        removeClass([this.element], ROOT);\n        this.unwireEvents(this.opensOn);\n        this.unwireMouseEvents(this.element);\n        this.tooltipEle = null;\n        this.popupObj = null;\n    };\n    __decorate([\n        Property('auto')\n    ], Tooltip.prototype, \"width\", void 0);\n    __decorate([\n        Property('auto')\n    ], Tooltip.prototype, \"height\", void 0);\n    __decorate([\n        Property()\n    ], Tooltip.prototype, \"content\", void 0);\n    __decorate([\n        Property('body')\n    ], Tooltip.prototype, \"container\", void 0);\n    __decorate([\n        Property()\n    ], Tooltip.prototype, \"target\", void 0);\n    __decorate([\n        Property('TopCenter')\n    ], Tooltip.prototype, \"position\", void 0);\n    __decorate([\n        Property(0)\n    ], Tooltip.prototype, \"offsetX\", void 0);\n    __decorate([\n        Property(0)\n    ], Tooltip.prototype, \"offsetY\", void 0);\n    __decorate([\n        Property(true)\n    ], Tooltip.prototype, \"showTipPointer\", void 0);\n    __decorate([\n        Property(true)\n    ], Tooltip.prototype, \"enableHtmlParse\", void 0);\n    __decorate([\n        Property(false)\n    ], Tooltip.prototype, \"windowCollision\", void 0);\n    __decorate([\n        Property('Auto')\n    ], Tooltip.prototype, \"tipPointerPosition\", void 0);\n    __decorate([\n        Property('Auto')\n    ], Tooltip.prototype, \"opensOn\", void 0);\n    __decorate([\n        Property(false)\n    ], Tooltip.prototype, \"mouseTrail\", void 0);\n    __decorate([\n        Property(false)\n    ], Tooltip.prototype, \"isSticky\", void 0);\n    __decorate([\n        Complex({}, Animation)\n    ], Tooltip.prototype, \"animation\", void 0);\n    __decorate([\n        Property(0)\n    ], Tooltip.prototype, \"openDelay\", void 0);\n    __decorate([\n        Property(0)\n    ], Tooltip.prototype, \"closeDelay\", void 0);\n    __decorate([\n        Property()\n    ], Tooltip.prototype, \"cssClass\", void 0);\n    __decorate([\n        Property(false)\n    ], Tooltip.prototype, \"enableHtmlSanitizer\", void 0);\n    __decorate([\n        Event()\n    ], Tooltip.prototype, \"beforeRender\", void 0);\n    __decorate([\n        Event()\n    ], Tooltip.prototype, \"beforeOpen\", void 0);\n    __decorate([\n        Event()\n    ], Tooltip.prototype, \"afterOpen\", void 0);\n    __decorate([\n        Event()\n    ], Tooltip.prototype, \"beforeClose\", void 0);\n    __decorate([\n        Event()\n    ], Tooltip.prototype, \"afterClose\", void 0);\n    __decorate([\n        Event()\n    ], Tooltip.prototype, \"beforeCollision\", void 0);\n    __decorate([\n        Event()\n    ], Tooltip.prototype, \"created\", void 0);\n    __decorate([\n        Event()\n    ], Tooltip.prototype, \"destroyed\", void 0);\n    Tooltip = __decorate([\n        NotifyPropertyChanges\n    ], Tooltip);\n    return Tooltip;\n}(Component));\nexport { Tooltip };\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}