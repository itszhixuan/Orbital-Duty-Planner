{"ast":null,"code":"/* eslint-disable no-inner-declarations */\nimport { extend, merge, isNullOrUndefined, getValue } from '@syncfusion/ej2-base';\nimport { attributes, prepend, isVisible, append, addClass } from '@syncfusion/ej2-base';\nimport { compile } from '@syncfusion/ej2-base';\nimport { DataManager, Query } from '@syncfusion/ej2-data';\nexport var cssClass = {\n  li: 'e-list-item',\n  ul: 'e-list-parent e-ul',\n  group: 'e-list-group-item',\n  icon: 'e-list-icon',\n  text: 'e-list-text',\n  check: 'e-list-check',\n  checked: 'e-checked',\n  selected: 'e-selected',\n  expanded: 'e-expanded',\n  textContent: 'e-text-content',\n  hasChild: 'e-has-child',\n  level: 'e-level',\n  url: 'e-list-url',\n  collapsible: 'e-icon-collapsible',\n  disabled: 'e-disabled',\n  image: 'e-list-img',\n  iconWrapper: 'e-icon-wrapper',\n  anchorWrap: 'e-anchor-wrap',\n  navigable: 'e-navigable'\n};\n/**\n * Base List Generator\n */\n// eslint-disable-next-line @typescript-eslint/no-namespace\n\nexport var ListBase;\n\n(function (ListBase) {\n  /**\n   *\n   * Default mapped fields.\n   */\n  ListBase.defaultMappedFields = {\n    id: 'id',\n    text: 'text',\n    url: 'url',\n    value: 'value',\n    isChecked: 'isChecked',\n    enabled: 'enabled',\n    expanded: 'expanded',\n    selected: 'selected',\n    iconCss: 'iconCss',\n    child: 'child',\n    isVisible: 'isVisible',\n    hasChildren: 'hasChildren',\n    tooltip: 'tooltip',\n    htmlAttributes: 'htmlAttributes',\n    urlAttributes: 'urlAttributes',\n    imageAttributes: 'imageAttributes',\n    imageUrl: 'imageUrl',\n    groupBy: null,\n    sortBy: null\n  };\n  var defaultAriaAttributes = {\n    level: 1,\n    listRole: 'presentation',\n    itemRole: 'presentation',\n    groupItemRole: 'group',\n    itemText: 'list-item',\n    wrapperRole: 'presentation'\n  };\n  var defaultListBaseOptions = {\n    showCheckBox: false,\n    showIcon: false,\n    enableHtmlSanitizer: false,\n    expandCollapse: false,\n    fields: ListBase.defaultMappedFields,\n    ariaAttributes: defaultAriaAttributes,\n    listClass: '',\n    itemClass: '',\n    processSubChild: false,\n    sortOrder: 'None',\n    template: null,\n    groupTemplate: null,\n    headerTemplate: null,\n    expandIconClass: 'e-icon-collapsible',\n    moduleName: 'list',\n    expandIconPosition: 'Right',\n    itemNavigable: false\n  };\n  /**\n   * Function helps to created and return the UL Li element based on your data.\n   *\n   * @param  {createElementParams} createElement - Specifies an array of JSON data.\n   *\n   * @param  {{Object}[]} dataSource - Specifies an array of JSON data.\n   *\n   * @param  {ListBaseOptions} options? - Specifies the list options that need to provide.\n   *\n   * @param  {boolean} isSingleLevel? - Specifies the list options that need to provide.\n   *\n   * @param  {any} componentInstance? - Specifies the list options that need to provide.\n   *\n   * @returns  {createElement} createListFromJson - Specifies the list options that need to provide.\n   */\n\n  function createList(createElement, dataSource, // eslint-disable-next-line\n  options, isSingleLevel, componentInstance) {\n    var curOpt = extend({}, defaultListBaseOptions, options);\n    var ariaAttributes = extend({}, defaultAriaAttributes, curOpt.ariaAttributes);\n    var type = typeofData(dataSource).typeof;\n\n    if (type === 'string' || type === 'number') {\n      return createListFromArray(createElement, dataSource, isSingleLevel, options, componentInstance);\n    } else {\n      return createListFromJson(createElement, dataSource, options, ariaAttributes.level, isSingleLevel, componentInstance);\n    }\n  }\n\n  ListBase.createList = createList;\n  /**\n   * Function helps to created an element list based on string array input .\n   *\n   * @param  {createElementParams} createElement - Specifies an array of JSON data.\n   *\n   * @param  {{Object}[]} dataSource - Specifies an array of JSON data.\n   *\n   * @param  {ListBaseOptions} options? - Specifies the list options that need to provide.\n   *\n   * @param  {boolean} isSingleLevel? - Specifies the list options that need to provide.\n   *\n   * @param  {any} componentInstance? - Specifies the list options that need to provide.\n   *\n   * @returns  {createElement} generateUL - returns the list options that need to provide.\n   */\n\n  function createListFromArray(createElement, dataSource, // tslint:disable-next-line\n  // eslint-disable-next-line\n  isSingleLevel, options, componentInstance) {\n    var subChild = createListItemFromArray(createElement, dataSource, isSingleLevel, options, componentInstance);\n    return generateUL(createElement, subChild, null, options);\n  }\n\n  ListBase.createListFromArray = createListFromArray;\n  /**\n   * Function helps to created an element list based on string array input .\n   *\n   * @param  {createElementParams} createElement - Specifies an array of JSON data.\n   *\n   * @param  {{Object}[]} dataSource - Specifies an array of JSON data.\n   *\n   * @param  {ListBaseOptions} options? - Specifies the list options that need to provide.\n   *\n   * @param  {boolean} isSingleLevel? - Specifies the list options that need to provide.\n   *\n   * @param  {any} componentInstance? - Specifies the list options that need to provide.\n   *\n   * @returns  {HTMLElement[]} subChild - returns the list options that need to provide.\n   */\n\n  function createListItemFromArray(createElement, dataSource, // eslint-disable-next-line\n  isSingleLevel, options, componentInstance) {\n    var subChild = [];\n    var curOpt = extend({}, defaultListBaseOptions, options);\n    cssClass = getModuleClass(curOpt.moduleName);\n    var id = generateId(); // generate id for drop-down-list option.\n\n    for (var i = 0; i < dataSource.length; i++) {\n      if (isNullOrUndefined(dataSource[i])) {\n        continue;\n      }\n\n      var li = void 0;\n\n      if (curOpt.itemCreating && typeof curOpt.itemCreating === 'function') {\n        var curData = {\n          dataSource: dataSource,\n          curData: dataSource[i],\n          text: dataSource[i],\n          options: curOpt\n        };\n        curOpt.itemCreating(curData);\n      }\n\n      if (isSingleLevel) {\n        li = generateSingleLevelLI(createElement, dataSource[i], undefined, null, null, [], null, id, i, options);\n      } else {\n        li = generateLI(createElement, dataSource[i], undefined, null, null, options, componentInstance);\n      }\n\n      if (curOpt.itemCreated && typeof curOpt.itemCreated === 'function') {\n        var curData = {\n          dataSource: dataSource,\n          curData: dataSource[i],\n          text: dataSource[i],\n          item: li,\n          options: curOpt\n        };\n        curOpt.itemCreated(curData);\n      }\n\n      subChild.push(li);\n    }\n\n    return subChild;\n  }\n\n  ListBase.createListItemFromArray = createListItemFromArray;\n  /**\n   * Function helps to created an element list based on array of JSON input .\n   *\n   * @param  {createElementParams} createElement - Specifies an array of JSON data.\n   *\n   * @param  {{Object}[]} dataSource - Specifies an array of JSON data.\n   *\n   * @param  {ListBaseOptions} options? - Specifies the list options that need to provide.\n   *\n   * @param  {boolean} isSingleLevel? - Specifies the list options that need to provide.\n   *\n   * @param  {number} level? - Specifies the list options that need to provide.\n   *\n   * @param  {any} componentInstance? - Specifies the list options that need to provide.\n   *\n   * @returns  {HTMLElement[]} child - returns the list options that need to provide.\n   */\n\n  function createListItemFromJson(createElement, dataSource, // eslint-disable-next-line\n  options, level, isSingleLevel, componentInstance) {\n    var curOpt = extend({}, defaultListBaseOptions, options);\n    cssClass = getModuleClass(curOpt.moduleName);\n    var fields = componentInstance && (componentInstance.getModuleName() === 'listview' || componentInstance.getModuleName() === 'multiselect') ? curOpt.fields : extend({}, ListBase.defaultMappedFields, curOpt.fields);\n    var ariaAttributes = extend({}, defaultAriaAttributes, curOpt.ariaAttributes);\n    var id;\n    var checkboxElement = [];\n\n    if (level) {\n      ariaAttributes.level = level;\n    }\n\n    var child = [];\n    var li;\n    var anchorElement;\n\n    if (dataSource && dataSource.length && !isNullOrUndefined(typeofData(dataSource).item) && // eslint-disable-next-line no-prototype-builtins\n    !typeofData(dataSource).item.hasOwnProperty(fields.id)) {\n      id = generateId(); // generate id for drop-down-list option.\n    }\n\n    for (var i = 0; i < dataSource.length; i++) {\n      var fieldData = getFieldValues(dataSource[i], fields);\n\n      if (isNullOrUndefined(dataSource[i])) {\n        continue;\n      }\n\n      if (curOpt.itemCreating && typeof curOpt.itemCreating === 'function') {\n        var curData = {\n          dataSource: dataSource,\n          curData: dataSource[i],\n          text: fieldData[fields.text],\n          options: curOpt,\n          fields: fields\n        };\n        curOpt.itemCreating(curData);\n      }\n\n      var curItem = dataSource[i];\n\n      if (curOpt.itemCreating && typeof curOpt.itemCreating === 'function') {\n        fieldData = getFieldValues(dataSource[i], fields);\n      } // eslint-disable-next-line no-prototype-builtins\n\n\n      if (fieldData.hasOwnProperty(fields.id) && !isNullOrUndefined(fieldData[fields.id])) {\n        id = fieldData[fields.id];\n      }\n\n      var innerEle = [];\n\n      if (curOpt.showCheckBox) {\n        if (curOpt.itemNavigable && (fieldData[fields.url] || fieldData[fields.urlAttributes])) {\n          checkboxElement.push(createElement('input', {\n            className: cssClass.check,\n            attrs: {\n              type: 'checkbox'\n            }\n          }));\n        } else {\n          innerEle.push(createElement('input', {\n            className: cssClass.check,\n            attrs: {\n              type: 'checkbox'\n            }\n          }));\n        }\n      }\n\n      if (isSingleLevel === true) {\n        // eslint-disable-next-line no-prototype-builtins\n        if (curOpt.showIcon && fieldData.hasOwnProperty(fields.iconCss) && !isNullOrUndefined(fieldData[fields.iconCss])) {\n          innerEle.push(createElement('span', {\n            className: cssClass.icon + ' ' + fieldData[fields.iconCss]\n          }));\n        }\n\n        li = generateSingleLevelLI(createElement, curItem, fieldData, fields, curOpt.itemClass, innerEle, // eslint-disable-next-line no-prototype-builtins\n        curItem.hasOwnProperty('isHeader') && curItem.isHeader ? true : false, id, i, options);\n        anchorElement = li.querySelector('.' + cssClass.anchorWrap);\n\n        if (curOpt.itemNavigable && checkboxElement.length) {\n          prepend(checkboxElement, li.firstElementChild);\n        }\n      } else {\n        li = generateLI(createElement, curItem, fieldData, fields, curOpt.itemClass, options, componentInstance);\n        li.classList.add(cssClass.level + '-' + ariaAttributes.level);\n        li.setAttribute('aria-level', ariaAttributes.level.toString());\n        anchorElement = li.querySelector('.' + cssClass.anchorWrap); // eslint-disable-next-line no-prototype-builtins\n\n        if (fieldData.hasOwnProperty(fields.tooltip)) {\n          li.setAttribute('title', fieldData[fields.tooltip]);\n        } // eslint-disable-next-line no-prototype-builtins\n\n\n        if (fieldData.hasOwnProperty(fields.htmlAttributes) && fieldData[fields.htmlAttributes]) {\n          setAttribute(li, fieldData[fields.htmlAttributes]);\n        } // eslint-disable-next-line no-prototype-builtins\n\n\n        if (fieldData.hasOwnProperty(fields.enabled) && fieldData[fields.enabled] === false) {\n          li.classList.add(cssClass.disabled);\n        } // eslint-disable-next-line no-prototype-builtins\n\n\n        if (fieldData.hasOwnProperty(fields.isVisible) && fieldData[fields.isVisible] === false) {\n          li.style.display = 'none';\n        } // eslint-disable-next-line no-prototype-builtins\n\n\n        if (fieldData.hasOwnProperty(fields.imageUrl) && !isNullOrUndefined(fieldData[fields.imageUrl]) && !curOpt.template) {\n          var attr = {\n            src: fieldData[fields.imageUrl]\n          };\n          merge(attr, fieldData[fields.imageAttributes]);\n          var imageElemnt = createElement('img', {\n            className: cssClass.image,\n            attrs: attr\n          });\n\n          if (anchorElement) {\n            anchorElement.insertAdjacentElement('afterbegin', imageElemnt);\n          } else {\n            prepend([imageElemnt], li.firstElementChild);\n          }\n        } // eslint-disable-next-line no-prototype-builtins\n\n\n        if (curOpt.showIcon && fieldData.hasOwnProperty(fields.iconCss) && !isNullOrUndefined(fieldData[fields.iconCss]) && !curOpt.template) {\n          var iconElement = createElement('div', {\n            className: cssClass.icon + ' ' + fieldData[fields.iconCss]\n          });\n\n          if (anchorElement) {\n            anchorElement.insertAdjacentElement('afterbegin', iconElement);\n          } else {\n            prepend([iconElement], li.firstElementChild);\n          }\n        }\n\n        if (innerEle.length) {\n          prepend(innerEle, li.firstElementChild);\n        }\n\n        if (curOpt.itemNavigable && checkboxElement.length) {\n          prepend(checkboxElement, li.firstElementChild);\n        }\n\n        processSubChild(createElement, fieldData, fields, dataSource, curOpt, li, ariaAttributes.level);\n      }\n\n      if (anchorElement) {\n        addClass([li], [cssClass.navigable]);\n      }\n\n      if (curOpt.itemCreated && typeof curOpt.itemCreated === 'function') {\n        var curData = {\n          dataSource: dataSource,\n          curData: dataSource[i],\n          text: fieldData[fields.text],\n          item: li,\n          options: curOpt,\n          fields: fields\n        };\n        curOpt.itemCreated(curData);\n      }\n\n      checkboxElement = [];\n      child.push(li);\n    }\n\n    return child;\n  }\n\n  ListBase.createListItemFromJson = createListItemFromJson;\n  /**\n   * Function helps to created an element list based on array of JSON input .\n   *\n   * @param  {createElementParams} createElement - Specifies an array of JSON data.\n   *\n   * @param  {{Object}[]} dataSource - Specifies an array of JSON data.\n   *\n   * @param  {ListBaseOptions} options? - Specifies the list options that need to provide.\n   *\n   * @param  {number} level? - Specifies the list options that need to provide.\n   *\n   * @param  {boolean} isSingleLevel? - Specifies the list options that need to provide.\n   *\n   * @param  {any} componentInstance? - Specifies the list options that need to provide.\n   *\n   * @returns  {createElement} generateUL - Specifies the list options that need to provide.\n   */\n\n  function createListFromJson(createElement, dataSource, // eslint-disable-next-line\n  options, level, isSingleLevel, componentInstance) {\n    var curOpt = extend({}, defaultListBaseOptions, options);\n    var li = createListItemFromJson(createElement, dataSource, options, level, isSingleLevel, componentInstance);\n    return generateUL(createElement, li, curOpt.listClass, options);\n  }\n\n  ListBase.createListFromJson = createListFromJson;\n  /**\n   * Return the next or previous visible element.\n   *\n   * @param  {Element[]|NodeList} elementArray - An element array to find next or previous element.\n   * @param  {Element} li - An element to find next or previous after this element.\n   * @param  {boolean} isPrevious? - Specify when the need get previous element from array.\n   */\n\n  function getSiblingLI(elementArray, element, isPrevious) {\n    cssClass = getModuleClass(defaultListBaseOptions.moduleName);\n\n    if (!elementArray || !elementArray.length) {\n      return void 0;\n    }\n\n    var siblingLI;\n    var liIndex;\n    var liCollections = Array.prototype.slice.call(elementArray);\n\n    if (element) {\n      liIndex = indexOf(element, liCollections);\n    } else {\n      liIndex = isPrevious === true ? liCollections.length : -1;\n    }\n\n    siblingLI = liCollections[liIndex + (isPrevious === true ? -1 : 1)];\n\n    while (siblingLI && (!isVisible(siblingLI) || siblingLI.classList.contains(cssClass.disabled))) {\n      liIndex = liIndex + (isPrevious === true ? -1 : 1);\n      siblingLI = liCollections[liIndex];\n    }\n\n    return siblingLI;\n  }\n\n  ListBase.getSiblingLI = getSiblingLI;\n  /**\n   * Return the index of the li element\n   *\n   * @param  {Element} item - An element to find next or previous after this element.\n   * @param  {Element[]} elementArray - An element array to find index of given li.\n   */\n\n  function indexOf(item, elementArray) {\n    if (!elementArray || !item) {\n      return void 0;\n    } else {\n      var liCollections = elementArray;\n      liCollections = Array.prototype.slice.call(elementArray);\n      return liCollections.indexOf(item);\n    }\n  }\n\n  ListBase.indexOf = indexOf;\n  /**\n   * Returns the grouped data from given dataSource.\n   *\n   * @param  {{Object}[]} dataSource - The JSON data which is necessary to process.\n   * @param  {FieldsMapping} fields - Fields that are mapped from the data source.\n   * @param  {SortOrder} sortOrder- Specifies final result sort order.\n   */\n\n  function groupDataSource(dataSource, fields, sortOrder) {\n    if (sortOrder === void 0) {\n      sortOrder = 'None';\n    }\n\n    var curFields = extend({}, ListBase.defaultMappedFields, fields);\n    var cusQuery = new Query().group(curFields.groupBy); // need to remove once sorting issues fixed in DataManager\n\n    cusQuery = addSorting(sortOrder, 'key', cusQuery);\n    var ds = getDataSource(dataSource, cusQuery);\n    dataSource = [];\n\n    for (var j = 0; j < ds.length; j++) {\n      var itemObj = ds[j].items;\n      var grpItem = {};\n      var hdr = 'isHeader';\n      grpItem[curFields.text] = ds[j].key;\n      grpItem[hdr] = true;\n      var newtext = curFields.text;\n\n      if (newtext === 'id') {\n        newtext = 'text';\n        grpItem[newtext] = ds[j].key;\n      }\n\n      grpItem._id = 'group-list-item-' + (ds[j].key ? ds[j].key.toString().trim() : 'undefined');\n      grpItem.items = itemObj;\n      dataSource.push(grpItem);\n\n      for (var k = 0; k < itemObj.length; k++) {\n        dataSource.push(itemObj[k]);\n      }\n    }\n\n    return dataSource;\n  }\n\n  ListBase.groupDataSource = groupDataSource;\n  /**\n   * Returns a sorted query object.\n   *\n   * @param  {SortOrder} sortOrder - Specifies that sort order.\n   * @param  {string} sortBy - Specifies sortBy fields.\n   * @param  {Query} query - Pass if any existing query.\n   */\n\n  function addSorting(sortOrder, sortBy, query) {\n    if (query === void 0) {\n      query = new Query();\n    }\n\n    if (sortOrder === 'Ascending') {\n      query.sortBy(sortBy, 'ascending', true);\n    } else if (sortOrder === 'Descending') {\n      query.sortBy(sortBy, 'descending', true);\n    } else {\n      for (var i = 0; i < query.queries.length; i++) {\n        if (query.queries[i].fn === 'onSortBy') {\n          query.queries.splice(i, 1);\n        }\n      }\n    }\n\n    return query;\n  }\n\n  ListBase.addSorting = addSorting;\n  /**\n   * Return an array of JSON Data that processed based on queries.\n   *\n   * @param  {{Object}[]} dataSource - Specifies local JSON data source.\n   *\n   * @param  {Query} query - Specifies query that need to process.\n   */\n\n  function getDataSource(dataSource, query) {\n    // eslint-disable-next-line\n    return new DataManager(dataSource).executeLocal(query);\n  }\n\n  ListBase.getDataSource = getDataSource;\n  /**\n   * Created JSON data based the UL and LI element\n   *\n   * @param  {HTMLElement|Element} element - UL element that need to convert as a JSON\n   * @param  {ListBaseOptions} options? - Specifies listbase option for fields.\n   */\n\n  function createJsonFromElement(element, options) {\n    var curOpt = extend({}, defaultListBaseOptions, options);\n    var fields = extend({}, ListBase.defaultMappedFields, curOpt.fields);\n    var curEle = element.cloneNode(true); // eslint-disable-next-line\n\n    var jsonAr = [];\n    curEle.classList.add('json-parent');\n    var childs = curEle.querySelectorAll('.json-parent>li');\n    curEle.classList.remove('json-parent');\n\n    for (var i = 0; i < childs.length; i++) {\n      var li = childs[i];\n      var anchor = li.querySelector('a');\n      var ul = li.querySelector('ul'); // eslint-disable-next-line\n\n      var json = {};\n      var childNodes = anchor ? anchor.childNodes : li.childNodes;\n      var keys = Object.keys(childNodes);\n\n      for (var i_1 = 0; i_1 < childNodes.length; i_1++) {\n        if (!childNodes[Number(keys[i_1])].hasChildNodes()) {\n          json[fields.text] = childNodes[Number(keys[i_1])].textContent;\n        }\n      }\n\n      var attributes_1 = getAllAttributes(li);\n\n      if (attributes_1.id) {\n        json[fields.id] = attributes_1.id;\n        delete attributes_1.id;\n      } else {\n        json[fields.id] = generateId();\n      }\n\n      if (Object.keys(attributes_1).length) {\n        json[fields.htmlAttributes] = attributes_1;\n      }\n\n      if (anchor) {\n        attributes_1 = getAllAttributes(anchor);\n\n        if (Object.keys(attributes_1).length) {\n          json[fields.urlAttributes] = attributes_1;\n        }\n      }\n\n      if (ul) {\n        json[fields.child] = createJsonFromElement(ul, options);\n      }\n\n      jsonAr.push(json);\n    }\n\n    return jsonAr;\n  }\n\n  ListBase.createJsonFromElement = createJsonFromElement;\n\n  function typeofData(data) {\n    var match = {\n      typeof: null,\n      item: null\n    };\n\n    for (var i = 0; i < data.length; i++) {\n      if (!isNullOrUndefined(data[i])) {\n        return match = {\n          typeof: typeof data[i],\n          item: data[i]\n        };\n      }\n    }\n\n    return match;\n  }\n\n  function setAttribute(element, elementAttributes) {\n    var attr = {};\n    merge(attr, elementAttributes);\n\n    if (attr.class) {\n      addClass([element], attr.class.split(' '));\n      delete attr.class;\n    }\n\n    attributes(element, attr);\n  }\n\n  function getAllAttributes(element) {\n    var attributes = {};\n    var attr = element.attributes;\n\n    for (var index = 0; index < attr.length; index++) {\n      attributes[attr[index].nodeName] = attr[index].nodeValue;\n    }\n\n    return attributes;\n  }\n  /**\n   * Created UL element from content template.\n   *\n   * @param  {string} template - that need to convert and generate li element.\n   * @param  {{Object}[]} dataSource - Specifies local JSON data source.\n   * @param  {ListBaseOptions} options? - Specifies listbase option for fields.\n   */\n\n\n  function renderContentTemplate(createElement, template, dataSource, // eslint-disable-next-line\n  fields, options, componentInstance) {\n    cssClass = getModuleClass(defaultListBaseOptions.moduleName);\n    var ulElement = createElement('ul', {\n      className: cssClass.ul,\n      attrs: {\n        role: 'presentation'\n      }\n    });\n    var curOpt = extend({}, defaultListBaseOptions, options);\n    var curFields = extend({}, ListBase.defaultMappedFields, fields); // eslint-disable-next-line\n\n    var compiledString = compileTemplate(template);\n    var liCollection = [];\n    var value;\n    var id = generateId(); // generate id for drop-down-list option.\n\n    for (var i = 0; i < dataSource.length; i++) {\n      var fieldData = getFieldValues(dataSource[i], curFields);\n      var curItem = dataSource[i];\n      var isHeader = curItem.isHeader;\n\n      if (typeof dataSource[i] === 'string' || typeof dataSource[i] === 'number') {\n        value = curItem;\n      } else {\n        value = fieldData[curFields.value];\n      }\n\n      if (curOpt.itemCreating && typeof curOpt.itemCreating === 'function') {\n        var curData = {\n          dataSource: dataSource,\n          curData: curItem,\n          text: value,\n          options: curOpt,\n          fields: curFields\n        };\n        curOpt.itemCreating(curData);\n      }\n\n      if (curOpt.itemCreating && typeof curOpt.itemCreating === 'function') {\n        fieldData = getFieldValues(dataSource[i], curFields);\n\n        if (typeof dataSource[i] === 'string' || typeof dataSource[i] === 'number') {\n          value = curItem;\n        } else {\n          value = fieldData[curFields.value];\n        }\n      }\n\n      var li = createElement('li', {\n        id: id + '-' + i,\n        className: isHeader ? cssClass.group : cssClass.li,\n        attrs: {\n          role: 'presentation'\n        }\n      });\n\n      if (isHeader) {\n        if (typeof dataSource[i] === 'string' || typeof dataSource[i] === 'number') {\n          li.innerText = curItem;\n        } else {\n          li.innerText = fieldData[curFields.text];\n        }\n      } else {\n        var currentID = isHeader ? curOpt.groupTemplateID : curOpt.templateID;\n\n        if (isHeader) {\n          if (componentInstance && componentInstance.getModuleName() != 'listview') {\n            // eslint-disable-next-line\n            var compiledElement = compiledString(curItem, componentInstance, 'headerTemplate', currentID, !!curOpt.isStringTemplate, null, li);\n\n            if (compiledElement) {\n              append(compiledElement, li);\n            }\n          } else {\n            append(compiledString(curItem, componentInstance, 'headerTemplate', currentID, !!curOpt.isStringTemplate), li);\n          }\n        } else {\n          if (componentInstance && componentInstance.getModuleName() !== 'listview') {\n            // eslint-disable-next-line\n            var compiledElement = compiledString(curItem, componentInstance, 'template', currentID, !!curOpt.isStringTemplate, null, li);\n\n            if (compiledElement) {\n              append(compiledElement, li);\n            }\n          } else {\n            append(compiledString(curItem, componentInstance, 'template', currentID, !!curOpt.isStringTemplate), li);\n          }\n        }\n\n        li.setAttribute('data-value', isNullOrUndefined(value) ? 'null' : value);\n        li.setAttribute('role', 'option');\n      }\n\n      if (curOpt.itemCreated && typeof curOpt.itemCreated === 'function') {\n        var curData = {\n          dataSource: dataSource,\n          curData: curItem,\n          text: value,\n          item: li,\n          options: curOpt,\n          fields: curFields\n        };\n        curOpt.itemCreated(curData);\n      }\n\n      liCollection.push(li);\n    }\n\n    append(liCollection, ulElement);\n    return ulElement;\n  }\n\n  ListBase.renderContentTemplate = renderContentTemplate;\n  /**\n   * Created header items from group template.\n   *\n   * @param  {string} template - that need to convert and generate li element.\n   *\n   * @param  {{Object}[]} dataSource - Specifies local JSON data source.\n   *\n   * @param  {FieldsMapping} fields - Specifies fields for mapping the dataSource.\n   *\n   * @param  {Element[]} headerItems? - Specifies listbase header items.\n   */\n  // tslint:disable-next-line\n\n  function renderGroupTemplate(groupTemplate, groupDataSource, fields, // eslint-disable-next-line\n  headerItems, options, componentInstance) {\n    // eslint-disable-next-line @typescript-eslint/ban-types\n    var compiledString = compileTemplate(groupTemplate);\n    var curFields = extend({}, ListBase.defaultMappedFields, fields);\n    var curOpt = extend({}, defaultListBaseOptions, options);\n    var category = curFields.groupBy;\n\n    for (var _i = 0, headerItems_1 = headerItems; _i < headerItems_1.length; _i++) {\n      var header = headerItems_1[_i];\n      var headerData = {};\n      headerData[category] = header.textContent;\n      header.innerHTML = '';\n\n      if (componentInstance && componentInstance.getModuleName() !== \"listview\") {\n        // eslint-disable-next-line\n        var compiledElement = compiledString(headerData, componentInstance, 'groupTemplate', curOpt.groupTemplateID, !!curOpt.isStringTemplate, null, header);\n\n        if (compiledElement) {\n          append(compiledElement, header);\n        }\n      } else {\n        append(compiledString(headerData, componentInstance, 'groupTemplate', curOpt.groupTemplateID, !!curOpt.isStringTemplate), header);\n      }\n    }\n\n    return headerItems;\n  }\n\n  ListBase.renderGroupTemplate = renderGroupTemplate;\n\n  function generateId() {\n    return Math.floor((1 + Math.random()) * 0x10000).toString(16).substring(1);\n  }\n\n  ListBase.generateId = generateId;\n\n  function processSubChild(createElement, fieldData, fields, ds, options, element, level) {\n    // Get SubList\n    var subDS = fieldData[fields.child] || [];\n    var hasChildren = fieldData[fields.hasChildren]; //Create Sub child\n\n    if (subDS.length) {\n      hasChildren = true;\n      element.classList.add(cssClass.hasChild);\n\n      if (options.processSubChild) {\n        var subLi = createListFromJson(createElement, subDS, options, ++level);\n        element.appendChild(subLi);\n      }\n    } // Create expand and collapse node\n\n\n    if (!!options.expandCollapse && hasChildren && !options.template) {\n      element.firstElementChild.classList.add(cssClass.iconWrapper); // eslint-disable-next-line @typescript-eslint/ban-types\n\n      var expandElement = options.expandIconPosition === 'Left' ? prepend : append;\n      expandElement([createElement('div', {\n        className: 'e-icons ' + options.expandIconClass\n      })], element.querySelector('.' + cssClass.textContent));\n    }\n  }\n\n  function generateSingleLevelLI(createElement, item, fieldData, fields, className, innerElements, grpLI, id, index, options) {\n    var curOpt = extend({}, defaultListBaseOptions, options);\n    var ariaAttributes = extend({}, defaultAriaAttributes, curOpt.ariaAttributes);\n    var text = item;\n    var value = item;\n    var dataSource;\n\n    if (typeof item !== 'string' && typeof item !== 'number' && typeof item !== 'boolean') {\n      dataSource = item;\n      text = typeof fieldData[fields.text] === 'boolean' || typeof fieldData[fields.text] === 'number' ? fieldData[fields.text] : fieldData[fields.text] || '';\n      value = fieldData[fields.value];\n    }\n\n    var elementID;\n\n    if (!isNullOrUndefined(dataSource) && !isNullOrUndefined(fieldData[fields.id]) && fieldData[fields.id] !== '') {\n      elementID = id;\n    } else {\n      elementID = id + '-' + index;\n    }\n\n    var li = createElement('li', {\n      className: (grpLI === true ? cssClass.group : cssClass.li) + ' ' + (isNullOrUndefined(className) ? '' : className),\n      id: elementID,\n      attrs: ariaAttributes.groupItemRole !== '' && ariaAttributes.itemRole !== '' ? {\n        role: grpLI === true ? ariaAttributes.groupItemRole : ariaAttributes.itemRole\n      } : {}\n    }); // eslint-disable-next-line no-prototype-builtins\n\n    if (dataSource && fieldData.hasOwnProperty(fields.enabled) && fieldData[fields.enabled].toString() === 'false') {\n      li.classList.add(cssClass.disabled);\n    }\n\n    if (grpLI) {\n      li.innerText = text;\n    } else {\n      li.setAttribute('data-value', isNullOrUndefined(value) ? 'null' : value);\n      li.setAttribute('role', 'option'); // eslint-disable-next-line no-prototype-builtins\n\n      if (dataSource && fieldData.hasOwnProperty(fields.htmlAttributes) && fieldData[fields.htmlAttributes]) {\n        setAttribute(li, fieldData[fields.htmlAttributes]);\n      }\n\n      if (innerElements.length && !curOpt.itemNavigable) {\n        append(innerElements, li);\n      }\n\n      if (dataSource && (fieldData[fields.url] || fieldData[fields.urlAttributes] && fieldData[fields.urlAttributes].href)) {\n        li.appendChild(anchorTag(createElement, dataSource, fields, text, innerElements, curOpt.itemNavigable));\n      } else {\n        if (innerElements.length && curOpt.itemNavigable) {\n          append(innerElements, li);\n        }\n\n        li.appendChild(document.createTextNode(text));\n      }\n    }\n\n    return li;\n  }\n\n  function getModuleClass(moduleName) {\n    var moduleClass; // eslint-disable-next-line\n\n    return moduleClass = {\n      li: \"e-\" + moduleName + \"-item\",\n      ul: \"e-\" + moduleName + \"-parent e-ul\",\n      group: \"e-\" + moduleName + \"-group-item\",\n      icon: \"e-\" + moduleName + \"-icon\",\n      text: \"e-\" + moduleName + \"-text\",\n      check: \"e-\" + moduleName + \"-check\",\n      checked: 'e-checked',\n      selected: 'e-selected',\n      expanded: 'e-expanded',\n      textContent: 'e-text-content',\n      hasChild: 'e-has-child',\n      level: 'e-level',\n      url: \"e-\" + moduleName + \"-url\",\n      collapsible: 'e-icon-collapsible',\n      disabled: 'e-disabled',\n      image: \"e-\" + moduleName + \"-img\",\n      iconWrapper: 'e-icon-wrapper',\n      anchorWrap: 'e-anchor-wrap',\n      navigable: 'e-navigable'\n    };\n  }\n\n  function anchorTag(createElement, dataSource, fields, text, innerElements, isFullNavigation) {\n    var fieldData = getFieldValues(dataSource, fields);\n    var attr = {\n      href: fieldData[fields.url]\n    }; // eslint-disable-next-line no-prototype-builtins\n\n    if (fieldData.hasOwnProperty(fields.urlAttributes) && fieldData[fields.urlAttributes]) {\n      merge(attr, fieldData[fields.urlAttributes]);\n      attr.href = fieldData[fields.url] ? fieldData[fields.url] : fieldData[fields.urlAttributes].href;\n    }\n\n    var anchorTag;\n\n    if (!isFullNavigation) {\n      anchorTag = createElement('a', {\n        className: cssClass.text + ' ' + cssClass.url,\n        innerHTML: text\n      });\n    } else {\n      anchorTag = createElement('a', {\n        className: cssClass.text + ' ' + cssClass.url\n      });\n      var anchorWrapper = createElement('div', {\n        className: cssClass.anchorWrap\n      });\n\n      if (innerElements && innerElements.length) {\n        append(innerElements, anchorWrapper);\n      }\n\n      anchorWrapper.appendChild(document.createTextNode(text));\n      append([anchorWrapper], anchorTag);\n    }\n\n    setAttribute(anchorTag, attr);\n    return anchorTag;\n  } // tslint:disable-next-line\n\n  /* tslint:disable:align */\n\n\n  function generateLI(createElement, item, fieldData, // eslint-disable-next-line\n  fields, className, options, componentInstance) {\n    var curOpt = extend({}, defaultListBaseOptions, options);\n    var ariaAttributes = extend({}, defaultAriaAttributes, curOpt.ariaAttributes);\n    var text = item;\n    var uID;\n    var grpLI;\n    var dataSource;\n\n    if (typeof item !== 'string' && typeof item !== 'number') {\n      dataSource = item;\n      text = fieldData[fields.text] || ''; // tslint:disable-next-line\n\n      uID = isNullOrUndefined(fieldData['_id']) ? fieldData[fields.id] : fieldData['_id']; // eslint-disable-next-line no-prototype-builtins\n\n      grpLI = item.hasOwnProperty('isHeader') && item.isHeader ? true : false;\n    }\n\n    if (options && options.enableHtmlSanitizer) {\n      // eslint-disable-next-line no-self-assign\n      text = text;\n    }\n\n    var li = createElement('li', {\n      className: (grpLI === true ? cssClass.group : cssClass.li) + ' ' + (isNullOrUndefined(className) ? '' : className),\n      attrs: ariaAttributes.groupItemRole !== '' && ariaAttributes.itemRole !== '' ? {\n        role: grpLI === true ? ariaAttributes.groupItemRole : ariaAttributes.itemRole\n      } : {}\n    });\n\n    if (!isNullOrUndefined(uID) === true) {\n      li.setAttribute('data-uid', uID);\n    } else {\n      li.setAttribute('data-uid', generateId());\n    }\n\n    if (grpLI && options && options.groupTemplate) {\n      // eslint-disable-next-line @typescript-eslint/ban-types\n      var compiledString = compileTemplate(options.groupTemplate);\n\n      if (componentInstance && componentInstance.getModuleName() !== \"listview\") {\n        // eslint-disable-next-line\n        var compiledElement = compiledString(item, componentInstance, 'groupTemplate', curOpt.groupTemplateID, !!curOpt.isStringTemplate, null, li);\n\n        if (compiledElement) {\n          append(compiledElement, li);\n        }\n      } else {\n        append(compiledString(item, componentInstance, 'groupTemplate', curOpt.groupTemplateID, !!curOpt.isStringTemplate), li);\n      }\n    } else if (!grpLI && options && options.template) {\n      // eslint-disable-next-line @typescript-eslint/ban-types\n      var compiledString = compileTemplate(options.template);\n\n      if (componentInstance && componentInstance.getModuleName() !== 'listview') {\n        // eslint-disable-next-line\n        var compiledElement = compiledString(item, componentInstance, 'template', curOpt.templateID, !!curOpt.isStringTemplate, null, li);\n\n        if (compiledElement) {\n          append(compiledElement, li);\n        }\n      } else {\n        append(compiledString(item, componentInstance, 'template', curOpt.templateID, !!curOpt.isStringTemplate), li);\n      }\n    } else {\n      var innerDiv = createElement('div', {\n        className: cssClass.textContent,\n        attrs: ariaAttributes.wrapperRole !== '' ? {\n          role: ariaAttributes.wrapperRole\n        } : {}\n      });\n\n      if (dataSource && (fieldData[fields.url] || fieldData[fields.urlAttributes] && fieldData[fields.urlAttributes].href)) {\n        innerDiv.appendChild(anchorTag(createElement, dataSource, fields, text, null, curOpt.itemNavigable));\n      } else {\n        var element = createElement('span', {\n          className: cssClass.text,\n          attrs: ariaAttributes.itemText !== '' ? {\n            role: ariaAttributes.itemText\n          } : {}\n        });\n\n        if (options && options.enableHtmlSanitizer) {\n          element.innerText = text;\n        } else {\n          element.innerHTML = text;\n        }\n\n        innerDiv.appendChild(element);\n      }\n\n      li.appendChild(innerDiv);\n    }\n\n    return li;\n  }\n  /**\n   * Returns UL element based on the given LI element.\n   *\n   * @param  {HTMLElement[]} liElement - Specifies array of LI element.\n   *\n   * @param  {string} className? - Specifies class name that need to be added in UL element.\n   *\n   * @param  {ListBaseOptions} options? - Specifies ListBase options.\n   */\n\n\n  function generateUL(createElement, liElement, className, options) {\n    var curOpt = extend({}, defaultListBaseOptions, options);\n    var ariaAttributes = extend({}, defaultAriaAttributes, curOpt.ariaAttributes);\n    cssClass = getModuleClass(curOpt.moduleName);\n    var ulElement = createElement('ul', {\n      className: cssClass.ul + ' ' + (isNullOrUndefined(className) ? '' : className),\n      attrs: ariaAttributes.listRole !== '' ? {\n        role: ariaAttributes.listRole\n      } : {}\n    });\n    append(liElement, ulElement);\n    return ulElement;\n  }\n\n  ListBase.generateUL = generateUL;\n  /**\n   * Returns LI element with additional DIV tag based on the given LI element.\n   *\n   * @param  {liElement} liElement - Specifies LI element.\n   *\n   * @param  {string} className? - Specifies class name that need to be added in created DIV element.\n   *\n   * @param  {ListBaseOptions} options? - Specifies ListBase options.\n   */\n\n  function generateIcon(createElement, liElement, className, options) {\n    var curOpt = extend({}, defaultListBaseOptions, options);\n    cssClass = getModuleClass(curOpt.moduleName); // eslint-disable-next-line @typescript-eslint/ban-types\n\n    var expandElement = curOpt.expandIconPosition === 'Left' ? prepend : append;\n    expandElement([createElement('div', {\n      className: 'e-icons ' + curOpt.expandIconClass + ' ' + (isNullOrUndefined(className) ? '' : className)\n    })], liElement.querySelector('.' + cssClass.textContent));\n    return liElement;\n  }\n\n  ListBase.generateIcon = generateIcon;\n})(ListBase || (ListBase = {}));\n/**\n * Used to get dataSource item from complex data using fields.\n *\n * @param {Object} dataSource - Specifies an  JSON or String data.\n *\n * @param {FieldsMapping} fields - Fields that are mapped from the dataSource.\n */\n\n\nexport function getFieldValues(dataItem, fields) {\n  var fieldData = {};\n\n  if (isNullOrUndefined(dataItem) || typeof dataItem === 'string' || typeof dataItem === 'number' || !isNullOrUndefined(dataItem.isHeader)) {\n    return dataItem;\n  } else {\n    for (var _i = 0, _a = Object.keys(fields); _i < _a.length; _i++) {\n      var field = _a[_i];\n      var dataField = fields[field];\n      var value = !isNullOrUndefined(dataField) && typeof dataField === 'string' ? getValue(dataField, dataItem) : undefined;\n\n      if (!isNullOrUndefined(value)) {\n        fieldData[dataField] = value;\n      }\n    }\n  }\n\n  return fieldData;\n}\n\nfunction compileTemplate(template) {\n  if (template) {\n    try {\n      if (document.querySelector(template)) {\n        return compile(document.querySelector(template).innerHTML.trim());\n      } else {\n        return compile(template);\n      }\n    } catch (e) {\n      return compile(template);\n    }\n  }\n\n  return undefined;\n}","map":{"version":3,"names":["extend","merge","isNullOrUndefined","getValue","attributes","prepend","isVisible","append","addClass","compile","DataManager","Query","cssClass","li","ul","group","icon","text","check","checked","selected","expanded","textContent","hasChild","level","url","collapsible","disabled","image","iconWrapper","anchorWrap","navigable","ListBase","defaultMappedFields","id","value","isChecked","enabled","iconCss","child","hasChildren","tooltip","htmlAttributes","urlAttributes","imageAttributes","imageUrl","groupBy","sortBy","defaultAriaAttributes","listRole","itemRole","groupItemRole","itemText","wrapperRole","defaultListBaseOptions","showCheckBox","showIcon","enableHtmlSanitizer","expandCollapse","fields","ariaAttributes","listClass","itemClass","processSubChild","sortOrder","template","groupTemplate","headerTemplate","expandIconClass","moduleName","expandIconPosition","itemNavigable","createList","createElement","dataSource","options","isSingleLevel","componentInstance","curOpt","type","typeofData","typeof","createListFromArray","createListFromJson","subChild","createListItemFromArray","generateUL","getModuleClass","generateId","i","length","itemCreating","curData","generateSingleLevelLI","undefined","generateLI","itemCreated","item","push","createListItemFromJson","getModuleName","checkboxElement","anchorElement","hasOwnProperty","fieldData","getFieldValues","curItem","innerEle","className","attrs","isHeader","querySelector","firstElementChild","classList","add","setAttribute","toString","style","display","attr","src","imageElemnt","insertAdjacentElement","iconElement","getSiblingLI","elementArray","element","isPrevious","siblingLI","liIndex","liCollections","Array","prototype","slice","call","indexOf","contains","groupDataSource","curFields","cusQuery","addSorting","ds","getDataSource","j","itemObj","items","grpItem","hdr","key","newtext","_id","trim","k","query","queries","fn","splice","executeLocal","createJsonFromElement","curEle","cloneNode","jsonAr","childs","querySelectorAll","remove","anchor","json","childNodes","keys","Object","i_1","Number","hasChildNodes","attributes_1","getAllAttributes","data","match","elementAttributes","class","split","index","nodeName","nodeValue","renderContentTemplate","ulElement","role","compiledString","compileTemplate","liCollection","innerText","currentID","groupTemplateID","templateID","compiledElement","isStringTemplate","renderGroupTemplate","headerItems","category","_i","headerItems_1","header","headerData","innerHTML","Math","floor","random","substring","subDS","subLi","appendChild","expandElement","innerElements","grpLI","elementID","href","anchorTag","document","createTextNode","moduleClass","isFullNavigation","anchorWrapper","uID","innerDiv","liElement","generateIcon","dataItem","_a","field","dataField","e"],"sources":["C:/Users/leezh/Documents/Coding/Orbital Test/Orbital-Duty-Planner/node_modules/@syncfusion/ej2-lists/src/common/list-base.js"],"sourcesContent":["/* eslint-disable no-inner-declarations */\nimport { extend, merge, isNullOrUndefined, getValue } from '@syncfusion/ej2-base';\nimport { attributes, prepend, isVisible, append, addClass } from '@syncfusion/ej2-base';\nimport { compile } from '@syncfusion/ej2-base';\nimport { DataManager, Query } from '@syncfusion/ej2-data';\nexport var cssClass = {\n    li: 'e-list-item',\n    ul: 'e-list-parent e-ul',\n    group: 'e-list-group-item',\n    icon: 'e-list-icon',\n    text: 'e-list-text',\n    check: 'e-list-check',\n    checked: 'e-checked',\n    selected: 'e-selected',\n    expanded: 'e-expanded',\n    textContent: 'e-text-content',\n    hasChild: 'e-has-child',\n    level: 'e-level',\n    url: 'e-list-url',\n    collapsible: 'e-icon-collapsible',\n    disabled: 'e-disabled',\n    image: 'e-list-img',\n    iconWrapper: 'e-icon-wrapper',\n    anchorWrap: 'e-anchor-wrap',\n    navigable: 'e-navigable'\n};\n/**\n * Base List Generator\n */\n// eslint-disable-next-line @typescript-eslint/no-namespace\nexport var ListBase;\n(function (ListBase) {\n    /**\n     *\n     * Default mapped fields.\n     */\n    ListBase.defaultMappedFields = {\n        id: 'id',\n        text: 'text',\n        url: 'url',\n        value: 'value',\n        isChecked: 'isChecked',\n        enabled: 'enabled',\n        expanded: 'expanded',\n        selected: 'selected',\n        iconCss: 'iconCss',\n        child: 'child',\n        isVisible: 'isVisible',\n        hasChildren: 'hasChildren',\n        tooltip: 'tooltip',\n        htmlAttributes: 'htmlAttributes',\n        urlAttributes: 'urlAttributes',\n        imageAttributes: 'imageAttributes',\n        imageUrl: 'imageUrl',\n        groupBy: null,\n        sortBy: null\n    };\n    var defaultAriaAttributes = {\n        level: 1,\n        listRole: 'presentation',\n        itemRole: 'presentation',\n        groupItemRole: 'group',\n        itemText: 'list-item',\n        wrapperRole: 'presentation'\n    };\n    var defaultListBaseOptions = {\n        showCheckBox: false,\n        showIcon: false,\n        enableHtmlSanitizer: false,\n        expandCollapse: false,\n        fields: ListBase.defaultMappedFields,\n        ariaAttributes: defaultAriaAttributes,\n        listClass: '',\n        itemClass: '',\n        processSubChild: false,\n        sortOrder: 'None',\n        template: null,\n        groupTemplate: null,\n        headerTemplate: null,\n        expandIconClass: 'e-icon-collapsible',\n        moduleName: 'list',\n        expandIconPosition: 'Right',\n        itemNavigable: false\n    };\n    /**\n     * Function helps to created and return the UL Li element based on your data.\n     *\n     * @param  {createElementParams} createElement - Specifies an array of JSON data.\n     *\n     * @param  {{Object}[]} dataSource - Specifies an array of JSON data.\n     *\n     * @param  {ListBaseOptions} options? - Specifies the list options that need to provide.\n     *\n     * @param  {boolean} isSingleLevel? - Specifies the list options that need to provide.\n     *\n     * @param  {any} componentInstance? - Specifies the list options that need to provide.\n     *\n     * @returns  {createElement} createListFromJson - Specifies the list options that need to provide.\n     */\n    function createList(createElement, dataSource, \n    // eslint-disable-next-line\n    options, isSingleLevel, componentInstance) {\n        var curOpt = extend({}, defaultListBaseOptions, options);\n        var ariaAttributes = extend({}, defaultAriaAttributes, curOpt.ariaAttributes);\n        var type = typeofData(dataSource).typeof;\n        if (type === 'string' || type === 'number') {\n            return createListFromArray(createElement, dataSource, isSingleLevel, options, componentInstance);\n        }\n        else {\n            return createListFromJson(createElement, dataSource, options, ariaAttributes.level, isSingleLevel, componentInstance);\n        }\n    }\n    ListBase.createList = createList;\n    /**\n     * Function helps to created an element list based on string array input .\n     *\n     * @param  {createElementParams} createElement - Specifies an array of JSON data.\n     *\n     * @param  {{Object}[]} dataSource - Specifies an array of JSON data.\n     *\n     * @param  {ListBaseOptions} options? - Specifies the list options that need to provide.\n     *\n     * @param  {boolean} isSingleLevel? - Specifies the list options that need to provide.\n     *\n     * @param  {any} componentInstance? - Specifies the list options that need to provide.\n     *\n     * @returns  {createElement} generateUL - returns the list options that need to provide.\n     */\n    function createListFromArray(createElement, dataSource, \n    // tslint:disable-next-line\n    // eslint-disable-next-line\n    isSingleLevel, options, componentInstance) {\n        var subChild = createListItemFromArray(createElement, dataSource, isSingleLevel, options, componentInstance);\n        return generateUL(createElement, subChild, null, options);\n    }\n    ListBase.createListFromArray = createListFromArray;\n    /**\n     * Function helps to created an element list based on string array input .\n     *\n     * @param  {createElementParams} createElement - Specifies an array of JSON data.\n     *\n     * @param  {{Object}[]} dataSource - Specifies an array of JSON data.\n     *\n     * @param  {ListBaseOptions} options? - Specifies the list options that need to provide.\n     *\n     * @param  {boolean} isSingleLevel? - Specifies the list options that need to provide.\n     *\n     * @param  {any} componentInstance? - Specifies the list options that need to provide.\n     *\n     * @returns  {HTMLElement[]} subChild - returns the list options that need to provide.\n     */\n    function createListItemFromArray(createElement, dataSource, \n    // eslint-disable-next-line\n    isSingleLevel, options, componentInstance) {\n        var subChild = [];\n        var curOpt = extend({}, defaultListBaseOptions, options);\n        cssClass = getModuleClass(curOpt.moduleName);\n        var id = generateId(); // generate id for drop-down-list option.\n        for (var i = 0; i < dataSource.length; i++) {\n            if (isNullOrUndefined(dataSource[i])) {\n                continue;\n            }\n            var li = void 0;\n            if (curOpt.itemCreating && typeof curOpt.itemCreating === 'function') {\n                var curData = {\n                    dataSource: dataSource,\n                    curData: dataSource[i],\n                    text: dataSource[i],\n                    options: curOpt\n                };\n                curOpt.itemCreating(curData);\n            }\n            if (isSingleLevel) {\n                li = generateSingleLevelLI(createElement, dataSource[i], undefined, null, null, [], null, id, i, options);\n            }\n            else {\n                li = generateLI(createElement, dataSource[i], undefined, null, null, options, componentInstance);\n            }\n            if (curOpt.itemCreated && typeof curOpt.itemCreated === 'function') {\n                var curData = {\n                    dataSource: dataSource,\n                    curData: dataSource[i],\n                    text: dataSource[i],\n                    item: li,\n                    options: curOpt\n                };\n                curOpt.itemCreated(curData);\n            }\n            subChild.push(li);\n        }\n        return subChild;\n    }\n    ListBase.createListItemFromArray = createListItemFromArray;\n    /**\n     * Function helps to created an element list based on array of JSON input .\n     *\n     * @param  {createElementParams} createElement - Specifies an array of JSON data.\n     *\n     * @param  {{Object}[]} dataSource - Specifies an array of JSON data.\n     *\n     * @param  {ListBaseOptions} options? - Specifies the list options that need to provide.\n     *\n     * @param  {boolean} isSingleLevel? - Specifies the list options that need to provide.\n     *\n     * @param  {number} level? - Specifies the list options that need to provide.\n     *\n     * @param  {any} componentInstance? - Specifies the list options that need to provide.\n     *\n     * @returns  {HTMLElement[]} child - returns the list options that need to provide.\n     */\n    function createListItemFromJson(createElement, dataSource, \n    // eslint-disable-next-line\n    options, level, isSingleLevel, componentInstance) {\n        var curOpt = extend({}, defaultListBaseOptions, options);\n        cssClass = getModuleClass(curOpt.moduleName);\n        var fields = (componentInstance &&\n            (componentInstance.getModuleName() === 'listview' || componentInstance.getModuleName() === 'multiselect'))\n            ? curOpt.fields : extend({}, ListBase.defaultMappedFields, curOpt.fields);\n        var ariaAttributes = extend({}, defaultAriaAttributes, curOpt.ariaAttributes);\n        var id;\n        var checkboxElement = [];\n        if (level) {\n            ariaAttributes.level = level;\n        }\n        var child = [];\n        var li;\n        var anchorElement;\n        if (dataSource && dataSource.length && !isNullOrUndefined(typeofData(dataSource).item) &&\n            // eslint-disable-next-line no-prototype-builtins\n            !typeofData(dataSource).item.hasOwnProperty(fields.id)) {\n            id = generateId(); // generate id for drop-down-list option.\n        }\n        for (var i = 0; i < dataSource.length; i++) {\n            var fieldData = getFieldValues(dataSource[i], fields);\n            if (isNullOrUndefined(dataSource[i])) {\n                continue;\n            }\n            if (curOpt.itemCreating && typeof curOpt.itemCreating === 'function') {\n                var curData = {\n                    dataSource: dataSource,\n                    curData: dataSource[i],\n                    text: fieldData[fields.text],\n                    options: curOpt,\n                    fields: fields\n                };\n                curOpt.itemCreating(curData);\n            }\n            var curItem = dataSource[i];\n            if (curOpt.itemCreating && typeof curOpt.itemCreating === 'function') {\n                fieldData = getFieldValues(dataSource[i], fields);\n            }\n            // eslint-disable-next-line no-prototype-builtins\n            if (fieldData.hasOwnProperty(fields.id) && !isNullOrUndefined(fieldData[fields.id])) {\n                id = fieldData[fields.id];\n            }\n            var innerEle = [];\n            if (curOpt.showCheckBox) {\n                if (curOpt.itemNavigable && (fieldData[fields.url] || fieldData[fields.urlAttributes])) {\n                    checkboxElement.push(createElement('input', { className: cssClass.check, attrs: { type: 'checkbox' } }));\n                }\n                else {\n                    innerEle.push(createElement('input', { className: cssClass.check, attrs: { type: 'checkbox' } }));\n                }\n            }\n            if (isSingleLevel === true) {\n                // eslint-disable-next-line no-prototype-builtins\n                if (curOpt.showIcon && fieldData.hasOwnProperty(fields.iconCss) && !isNullOrUndefined(fieldData[fields.iconCss])) {\n                    innerEle.push(createElement('span', { className: cssClass.icon + ' ' + fieldData[fields.iconCss] }));\n                }\n                li = generateSingleLevelLI(createElement, curItem, fieldData, fields, curOpt.itemClass, innerEle, \n                // eslint-disable-next-line no-prototype-builtins\n                (curItem.hasOwnProperty('isHeader') &&\n                    curItem.isHeader) ? true : false, id, i, options);\n                anchorElement = li.querySelector('.' + cssClass.anchorWrap);\n                if (curOpt.itemNavigable && checkboxElement.length) {\n                    prepend(checkboxElement, li.firstElementChild);\n                }\n            }\n            else {\n                li = generateLI(createElement, curItem, fieldData, fields, curOpt.itemClass, options, componentInstance);\n                li.classList.add(cssClass.level + '-' + ariaAttributes.level);\n                li.setAttribute('aria-level', ariaAttributes.level.toString());\n                anchorElement = li.querySelector('.' + cssClass.anchorWrap);\n                // eslint-disable-next-line no-prototype-builtins\n                if (fieldData.hasOwnProperty(fields.tooltip)) {\n                    li.setAttribute('title', fieldData[fields.tooltip]);\n                }\n                // eslint-disable-next-line no-prototype-builtins\n                if (fieldData.hasOwnProperty(fields.htmlAttributes) && fieldData[fields.htmlAttributes]) {\n                    setAttribute(li, fieldData[fields.htmlAttributes]);\n                }\n                // eslint-disable-next-line no-prototype-builtins\n                if (fieldData.hasOwnProperty(fields.enabled) && fieldData[fields.enabled] === false) {\n                    li.classList.add(cssClass.disabled);\n                }\n                // eslint-disable-next-line no-prototype-builtins\n                if (fieldData.hasOwnProperty(fields.isVisible) && fieldData[fields.isVisible] === false) {\n                    li.style.display = 'none';\n                }\n                // eslint-disable-next-line no-prototype-builtins\n                if (fieldData.hasOwnProperty(fields.imageUrl) && !isNullOrUndefined(fieldData[fields.imageUrl])\n                    && !curOpt.template) {\n                    var attr = { src: fieldData[fields.imageUrl] };\n                    merge(attr, fieldData[fields.imageAttributes]);\n                    var imageElemnt = createElement('img', { className: cssClass.image, attrs: attr });\n                    if (anchorElement) {\n                        anchorElement.insertAdjacentElement('afterbegin', imageElemnt);\n                    }\n                    else {\n                        prepend([imageElemnt], li.firstElementChild);\n                    }\n                }\n                // eslint-disable-next-line no-prototype-builtins\n                if (curOpt.showIcon && fieldData.hasOwnProperty(fields.iconCss) &&\n                    !isNullOrUndefined(fieldData[fields.iconCss]) && !curOpt.template) {\n                    var iconElement = createElement('div', { className: cssClass.icon + ' ' + fieldData[fields.iconCss] });\n                    if (anchorElement) {\n                        anchorElement.insertAdjacentElement('afterbegin', iconElement);\n                    }\n                    else {\n                        prepend([iconElement], li.firstElementChild);\n                    }\n                }\n                if (innerEle.length) {\n                    prepend(innerEle, li.firstElementChild);\n                }\n                if (curOpt.itemNavigable && checkboxElement.length) {\n                    prepend(checkboxElement, li.firstElementChild);\n                }\n                processSubChild(createElement, fieldData, fields, dataSource, curOpt, li, ariaAttributes.level);\n            }\n            if (anchorElement) {\n                addClass([li], [cssClass.navigable]);\n            }\n            if (curOpt.itemCreated && typeof curOpt.itemCreated === 'function') {\n                var curData = {\n                    dataSource: dataSource,\n                    curData: dataSource[i],\n                    text: fieldData[fields.text],\n                    item: li,\n                    options: curOpt,\n                    fields: fields\n                };\n                curOpt.itemCreated(curData);\n            }\n            checkboxElement = [];\n            child.push(li);\n        }\n        return child;\n    }\n    ListBase.createListItemFromJson = createListItemFromJson;\n    /**\n     * Function helps to created an element list based on array of JSON input .\n     *\n     * @param  {createElementParams} createElement - Specifies an array of JSON data.\n     *\n     * @param  {{Object}[]} dataSource - Specifies an array of JSON data.\n     *\n     * @param  {ListBaseOptions} options? - Specifies the list options that need to provide.\n     *\n     * @param  {number} level? - Specifies the list options that need to provide.\n     *\n     * @param  {boolean} isSingleLevel? - Specifies the list options that need to provide.\n     *\n     * @param  {any} componentInstance? - Specifies the list options that need to provide.\n     *\n     * @returns  {createElement} generateUL - Specifies the list options that need to provide.\n     */\n    function createListFromJson(createElement, dataSource, \n    // eslint-disable-next-line\n    options, level, isSingleLevel, componentInstance) {\n        var curOpt = extend({}, defaultListBaseOptions, options);\n        var li = createListItemFromJson(createElement, dataSource, options, level, isSingleLevel, componentInstance);\n        return generateUL(createElement, li, curOpt.listClass, options);\n    }\n    ListBase.createListFromJson = createListFromJson;\n    /**\n     * Return the next or previous visible element.\n     *\n     * @param  {Element[]|NodeList} elementArray - An element array to find next or previous element.\n     * @param  {Element} li - An element to find next or previous after this element.\n     * @param  {boolean} isPrevious? - Specify when the need get previous element from array.\n     */\n    function getSiblingLI(elementArray, element, isPrevious) {\n        cssClass = getModuleClass(defaultListBaseOptions.moduleName);\n        if (!elementArray || !elementArray.length) {\n            return void 0;\n        }\n        var siblingLI;\n        var liIndex;\n        var liCollections = Array.prototype.slice.call(elementArray);\n        if (element) {\n            liIndex = indexOf(element, liCollections);\n        }\n        else {\n            liIndex = (isPrevious === true ? liCollections.length : -1);\n        }\n        siblingLI = liCollections[liIndex + (isPrevious === true ? -1 : 1)];\n        while (siblingLI && (!isVisible(siblingLI) || siblingLI.classList.contains(cssClass.disabled))) {\n            liIndex = liIndex + (isPrevious === true ? -1 : 1);\n            siblingLI = liCollections[liIndex];\n        }\n        return siblingLI;\n    }\n    ListBase.getSiblingLI = getSiblingLI;\n    /**\n     * Return the index of the li element\n     *\n     * @param  {Element} item - An element to find next or previous after this element.\n     * @param  {Element[]} elementArray - An element array to find index of given li.\n     */\n    function indexOf(item, elementArray) {\n        if (!elementArray || !item) {\n            return void 0;\n        }\n        else {\n            var liCollections = elementArray;\n            liCollections = Array.prototype.slice.call(elementArray);\n            return liCollections.indexOf(item);\n        }\n    }\n    ListBase.indexOf = indexOf;\n    /**\n     * Returns the grouped data from given dataSource.\n     *\n     * @param  {{Object}[]} dataSource - The JSON data which is necessary to process.\n     * @param  {FieldsMapping} fields - Fields that are mapped from the data source.\n     * @param  {SortOrder} sortOrder- Specifies final result sort order.\n     */\n    function groupDataSource(dataSource, fields, sortOrder) {\n        if (sortOrder === void 0) { sortOrder = 'None'; }\n        var curFields = extend({}, ListBase.defaultMappedFields, fields);\n        var cusQuery = new Query().group(curFields.groupBy);\n        // need to remove once sorting issues fixed in DataManager\n        cusQuery = addSorting(sortOrder, 'key', cusQuery);\n        var ds = getDataSource(dataSource, cusQuery);\n        dataSource = [];\n        for (var j = 0; j < ds.length; j++) {\n            var itemObj = ds[j].items;\n            var grpItem = {};\n            var hdr = 'isHeader';\n            grpItem[curFields.text] = ds[j].key;\n            grpItem[hdr] = true;\n            var newtext = curFields.text;\n            if (newtext === 'id') {\n                newtext = 'text';\n                grpItem[newtext] = ds[j].key;\n            }\n            grpItem._id = 'group-list-item-' + (ds[j].key ?\n                ds[j].key.toString().trim() : 'undefined');\n            grpItem.items = itemObj;\n            dataSource.push(grpItem);\n            for (var k = 0; k < itemObj.length; k++) {\n                dataSource.push(itemObj[k]);\n            }\n        }\n        return dataSource;\n    }\n    ListBase.groupDataSource = groupDataSource;\n    /**\n     * Returns a sorted query object.\n     *\n     * @param  {SortOrder} sortOrder - Specifies that sort order.\n     * @param  {string} sortBy - Specifies sortBy fields.\n     * @param  {Query} query - Pass if any existing query.\n     */\n    function addSorting(sortOrder, sortBy, query) {\n        if (query === void 0) { query = new Query(); }\n        if (sortOrder === 'Ascending') {\n            query.sortBy(sortBy, 'ascending', true);\n        }\n        else if (sortOrder === 'Descending') {\n            query.sortBy(sortBy, 'descending', true);\n        }\n        else {\n            for (var i = 0; i < query.queries.length; i++) {\n                if (query.queries[i].fn === 'onSortBy') {\n                    query.queries.splice(i, 1);\n                }\n            }\n        }\n        return query;\n    }\n    ListBase.addSorting = addSorting;\n    /**\n     * Return an array of JSON Data that processed based on queries.\n     *\n     * @param  {{Object}[]} dataSource - Specifies local JSON data source.\n     *\n     * @param  {Query} query - Specifies query that need to process.\n     */\n    function getDataSource(dataSource, query) {\n        // eslint-disable-next-line\n        return new DataManager(dataSource)\n            .executeLocal(query);\n    }\n    ListBase.getDataSource = getDataSource;\n    /**\n     * Created JSON data based the UL and LI element\n     *\n     * @param  {HTMLElement|Element} element - UL element that need to convert as a JSON\n     * @param  {ListBaseOptions} options? - Specifies listbase option for fields.\n     */\n    function createJsonFromElement(element, options) {\n        var curOpt = extend({}, defaultListBaseOptions, options);\n        var fields = extend({}, ListBase.defaultMappedFields, curOpt.fields);\n        var curEle = element.cloneNode(true);\n        // eslint-disable-next-line\n        var jsonAr = [];\n        curEle.classList.add('json-parent');\n        var childs = curEle.querySelectorAll('.json-parent>li');\n        curEle.classList.remove('json-parent');\n        for (var i = 0; i < childs.length; i++) {\n            var li = childs[i];\n            var anchor = li.querySelector('a');\n            var ul = li.querySelector('ul');\n            // eslint-disable-next-line\n            var json = {};\n            var childNodes = anchor ? anchor.childNodes : li.childNodes;\n            var keys = Object.keys(childNodes);\n            for (var i_1 = 0; i_1 < childNodes.length; i_1++) {\n                if (!(childNodes[Number(keys[i_1])]).hasChildNodes()) {\n                    json[fields.text] = childNodes[Number(keys[i_1])].textContent;\n                }\n            }\n            var attributes_1 = getAllAttributes(li);\n            if (attributes_1.id) {\n                json[fields.id] = attributes_1.id;\n                delete attributes_1.id;\n            }\n            else {\n                json[fields.id] = generateId();\n            }\n            if (Object.keys(attributes_1).length) {\n                json[fields.htmlAttributes] = attributes_1;\n            }\n            if (anchor) {\n                attributes_1 = getAllAttributes(anchor);\n                if (Object.keys(attributes_1).length) {\n                    json[fields.urlAttributes] = attributes_1;\n                }\n            }\n            if (ul) {\n                json[fields.child] = createJsonFromElement(ul, options);\n            }\n            jsonAr.push(json);\n        }\n        return jsonAr;\n    }\n    ListBase.createJsonFromElement = createJsonFromElement;\n    function typeofData(data) {\n        var match = { typeof: null, item: null };\n        for (var i = 0; i < data.length; i++) {\n            if (!isNullOrUndefined(data[i])) {\n                return match = { typeof: typeof data[i], item: data[i] };\n            }\n        }\n        return match;\n    }\n    function setAttribute(element, elementAttributes) {\n        var attr = {};\n        merge(attr, elementAttributes);\n        if (attr.class) {\n            addClass([element], attr.class.split(' '));\n            delete attr.class;\n        }\n        attributes(element, attr);\n    }\n    function getAllAttributes(element) {\n        var attributes = {};\n        var attr = element.attributes;\n        for (var index = 0; index < attr.length; index++) {\n            attributes[attr[index].nodeName] = attr[index].nodeValue;\n        }\n        return attributes;\n    }\n    /**\n     * Created UL element from content template.\n     *\n     * @param  {string} template - that need to convert and generate li element.\n     * @param  {{Object}[]} dataSource - Specifies local JSON data source.\n     * @param  {ListBaseOptions} options? - Specifies listbase option for fields.\n     */\n    function renderContentTemplate(createElement, template, dataSource, \n    // eslint-disable-next-line\n    fields, options, componentInstance) {\n        cssClass = getModuleClass(defaultListBaseOptions.moduleName);\n        var ulElement = createElement('ul', { className: cssClass.ul, attrs: { role: 'presentation' } });\n        var curOpt = extend({}, defaultListBaseOptions, options);\n        var curFields = extend({}, ListBase.defaultMappedFields, fields);\n        // eslint-disable-next-line\n        var compiledString = compileTemplate(template);\n        var liCollection = [];\n        var value;\n        var id = generateId(); // generate id for drop-down-list option.\n        for (var i = 0; i < dataSource.length; i++) {\n            var fieldData = getFieldValues(dataSource[i], curFields);\n            var curItem = dataSource[i];\n            var isHeader = curItem.isHeader;\n            if (typeof dataSource[i] === 'string' || typeof dataSource[i] === 'number') {\n                value = curItem;\n            }\n            else {\n                value = fieldData[curFields.value];\n            }\n            if (curOpt.itemCreating && typeof curOpt.itemCreating === 'function') {\n                var curData = {\n                    dataSource: dataSource,\n                    curData: curItem,\n                    text: value,\n                    options: curOpt,\n                    fields: curFields\n                };\n                curOpt.itemCreating(curData);\n            }\n            if (curOpt.itemCreating && typeof curOpt.itemCreating === 'function') {\n                fieldData = getFieldValues(dataSource[i], curFields);\n                if (typeof dataSource[i] === 'string' || typeof dataSource[i] === 'number') {\n                    value = curItem;\n                }\n                else {\n                    value = fieldData[curFields.value];\n                }\n            }\n            var li = createElement('li', {\n                id: id + '-' + i,\n                className: isHeader ? cssClass.group : cssClass.li, attrs: { role: 'presentation' }\n            });\n            if (isHeader) {\n                if (typeof dataSource[i] === 'string' || typeof dataSource[i] === 'number') {\n                    li.innerText = curItem;\n                }\n                else {\n                    li.innerText = fieldData[curFields.text];\n                }\n            }\n            else {\n                var currentID = isHeader ? curOpt.groupTemplateID : curOpt.templateID;\n                if (isHeader) {\n                    if (componentInstance && componentInstance.getModuleName() != 'listview') {\n                        // eslint-disable-next-line\n                        var compiledElement = compiledString(curItem, componentInstance, 'headerTemplate', currentID, !!curOpt.isStringTemplate, null, li);\n                        if (compiledElement) {\n                            append(compiledElement, li);\n                        }\n                    }\n                    else {\n                        append(compiledString(curItem, componentInstance, 'headerTemplate', currentID, !!curOpt.isStringTemplate), li);\n                    }\n                }\n                else {\n                    if (componentInstance && componentInstance.getModuleName() !== 'listview') {\n                        // eslint-disable-next-line\n                        var compiledElement = compiledString(curItem, componentInstance, 'template', currentID, !!curOpt.isStringTemplate, null, li);\n                        if (compiledElement) {\n                            append(compiledElement, li);\n                        }\n                    }\n                    else {\n                        append(compiledString(curItem, componentInstance, 'template', currentID, !!curOpt.isStringTemplate), li);\n                    }\n                }\n                li.setAttribute('data-value', isNullOrUndefined(value) ? 'null' : value);\n                li.setAttribute('role', 'option');\n            }\n            if (curOpt.itemCreated && typeof curOpt.itemCreated === 'function') {\n                var curData = {\n                    dataSource: dataSource,\n                    curData: curItem,\n                    text: value,\n                    item: li,\n                    options: curOpt,\n                    fields: curFields\n                };\n                curOpt.itemCreated(curData);\n            }\n            liCollection.push(li);\n        }\n        append(liCollection, ulElement);\n        return ulElement;\n    }\n    ListBase.renderContentTemplate = renderContentTemplate;\n    /**\n     * Created header items from group template.\n     *\n     * @param  {string} template - that need to convert and generate li element.\n     *\n     * @param  {{Object}[]} dataSource - Specifies local JSON data source.\n     *\n     * @param  {FieldsMapping} fields - Specifies fields for mapping the dataSource.\n     *\n     * @param  {Element[]} headerItems? - Specifies listbase header items.\n     */\n    // tslint:disable-next-line\n    function renderGroupTemplate(groupTemplate, groupDataSource, fields, \n    // eslint-disable-next-line\n    headerItems, options, componentInstance) {\n        // eslint-disable-next-line @typescript-eslint/ban-types\n        var compiledString = compileTemplate(groupTemplate);\n        var curFields = extend({}, ListBase.defaultMappedFields, fields);\n        var curOpt = extend({}, defaultListBaseOptions, options);\n        var category = curFields.groupBy;\n        for (var _i = 0, headerItems_1 = headerItems; _i < headerItems_1.length; _i++) {\n            var header = headerItems_1[_i];\n            var headerData = {};\n            headerData[category] = header.textContent;\n            header.innerHTML = '';\n            if (componentInstance && componentInstance.getModuleName() !== \"listview\") {\n                // eslint-disable-next-line\n                var compiledElement = compiledString(headerData, componentInstance, 'groupTemplate', curOpt.groupTemplateID, !!curOpt.isStringTemplate, null, header);\n                if (compiledElement) {\n                    append(compiledElement, header);\n                }\n            }\n            else {\n                append(compiledString(headerData, componentInstance, 'groupTemplate', curOpt.groupTemplateID, !!curOpt.isStringTemplate), header);\n            }\n        }\n        return headerItems;\n    }\n    ListBase.renderGroupTemplate = renderGroupTemplate;\n    function generateId() {\n        return Math.floor((1 + Math.random()) * 0x10000)\n            .toString(16)\n            .substring(1);\n    }\n    ListBase.generateId = generateId;\n    function processSubChild(createElement, fieldData, fields, ds, options, element, level) {\n        // Get SubList\n        var subDS = fieldData[fields.child] || [];\n        var hasChildren = fieldData[fields.hasChildren];\n        //Create Sub child\n        if (subDS.length) {\n            hasChildren = true;\n            element.classList.add(cssClass.hasChild);\n            if (options.processSubChild) {\n                var subLi = createListFromJson(createElement, subDS, options, ++level);\n                element.appendChild(subLi);\n            }\n        }\n        // Create expand and collapse node\n        if (!!options.expandCollapse && hasChildren && !options.template) {\n            element.firstElementChild.classList.add(cssClass.iconWrapper);\n            // eslint-disable-next-line @typescript-eslint/ban-types\n            var expandElement = options.expandIconPosition === 'Left' ? prepend : append;\n            expandElement([createElement('div', { className: 'e-icons ' + options.expandIconClass })], element.querySelector('.' + cssClass.textContent));\n        }\n    }\n    function generateSingleLevelLI(createElement, item, fieldData, fields, className, innerElements, grpLI, id, index, options) {\n        var curOpt = extend({}, defaultListBaseOptions, options);\n        var ariaAttributes = extend({}, defaultAriaAttributes, curOpt.ariaAttributes);\n        var text = item;\n        var value = item;\n        var dataSource;\n        if (typeof item !== 'string' && typeof item !== 'number' && typeof item !== 'boolean') {\n            dataSource = item;\n            text = (typeof fieldData[fields.text] === 'boolean' || typeof fieldData[fields.text] === 'number') ?\n                fieldData[fields.text] : (fieldData[fields.text] || '');\n            value = fieldData[fields.value];\n        }\n        var elementID;\n        if (!isNullOrUndefined(dataSource) && !isNullOrUndefined(fieldData[fields.id])\n            && fieldData[fields.id] !== '') {\n            elementID = id;\n        }\n        else {\n            elementID = id + '-' + index;\n        }\n        var li = createElement('li', {\n            className: (grpLI === true ? cssClass.group : cssClass.li) + ' ' + (isNullOrUndefined(className) ? '' : className),\n            id: elementID, attrs: (ariaAttributes.groupItemRole !== '' && ariaAttributes.itemRole !== '' ?\n                { role: (grpLI === true ? ariaAttributes.groupItemRole : ariaAttributes.itemRole) } : {})\n        });\n        // eslint-disable-next-line no-prototype-builtins\n        if (dataSource && fieldData.hasOwnProperty(fields.enabled) && fieldData[fields.enabled].toString() === 'false') {\n            li.classList.add(cssClass.disabled);\n        }\n        if (grpLI) {\n            li.innerText = text;\n        }\n        else {\n            li.setAttribute('data-value', isNullOrUndefined(value) ? 'null' : value);\n            li.setAttribute('role', 'option');\n            // eslint-disable-next-line no-prototype-builtins\n            if (dataSource && fieldData.hasOwnProperty(fields.htmlAttributes) && fieldData[fields.htmlAttributes]) {\n                setAttribute(li, fieldData[fields.htmlAttributes]);\n            }\n            if (innerElements.length && !curOpt.itemNavigable) {\n                append(innerElements, li);\n            }\n            if (dataSource && (fieldData[fields.url] || (fieldData[fields.urlAttributes] &&\n                fieldData[fields.urlAttributes].href))) {\n                li.appendChild(anchorTag(createElement, dataSource, fields, text, innerElements, curOpt.itemNavigable));\n            }\n            else {\n                if (innerElements.length && curOpt.itemNavigable) {\n                    append(innerElements, li);\n                }\n                li.appendChild(document.createTextNode(text));\n            }\n        }\n        return li;\n    }\n    function getModuleClass(moduleName) {\n        var moduleClass;\n        // eslint-disable-next-line\n        return moduleClass = {\n            li: \"e-\" + moduleName + \"-item\",\n            ul: \"e-\" + moduleName + \"-parent e-ul\",\n            group: \"e-\" + moduleName + \"-group-item\",\n            icon: \"e-\" + moduleName + \"-icon\",\n            text: \"e-\" + moduleName + \"-text\",\n            check: \"e-\" + moduleName + \"-check\",\n            checked: 'e-checked',\n            selected: 'e-selected',\n            expanded: 'e-expanded',\n            textContent: 'e-text-content',\n            hasChild: 'e-has-child',\n            level: 'e-level',\n            url: \"e-\" + moduleName + \"-url\",\n            collapsible: 'e-icon-collapsible',\n            disabled: 'e-disabled',\n            image: \"e-\" + moduleName + \"-img\",\n            iconWrapper: 'e-icon-wrapper',\n            anchorWrap: 'e-anchor-wrap',\n            navigable: 'e-navigable'\n        };\n    }\n    function anchorTag(createElement, dataSource, fields, text, innerElements, isFullNavigation) {\n        var fieldData = getFieldValues(dataSource, fields);\n        var attr = { href: fieldData[fields.url] };\n        // eslint-disable-next-line no-prototype-builtins\n        if (fieldData.hasOwnProperty(fields.urlAttributes) && fieldData[fields.urlAttributes]) {\n            merge(attr, fieldData[fields.urlAttributes]);\n            attr.href = fieldData[fields.url] ? fieldData[fields.url] :\n                fieldData[fields.urlAttributes].href;\n        }\n        var anchorTag;\n        if (!isFullNavigation) {\n            anchorTag = createElement('a', { className: cssClass.text + ' ' + cssClass.url, innerHTML: text });\n        }\n        else {\n            anchorTag = createElement('a', { className: cssClass.text + ' ' + cssClass.url });\n            var anchorWrapper = createElement('div', { className: cssClass.anchorWrap });\n            if (innerElements && innerElements.length) {\n                append(innerElements, anchorWrapper);\n            }\n            anchorWrapper.appendChild(document.createTextNode(text));\n            append([anchorWrapper], anchorTag);\n        }\n        setAttribute(anchorTag, attr);\n        return anchorTag;\n    }\n    // tslint:disable-next-line\n    /* tslint:disable:align */\n    function generateLI(createElement, item, fieldData, \n    // eslint-disable-next-line\n    fields, className, options, componentInstance) {\n        var curOpt = extend({}, defaultListBaseOptions, options);\n        var ariaAttributes = extend({}, defaultAriaAttributes, curOpt.ariaAttributes);\n        var text = item;\n        var uID;\n        var grpLI;\n        var dataSource;\n        if (typeof item !== 'string' && typeof item !== 'number') {\n            dataSource = item;\n            text = fieldData[fields.text] || '';\n            // tslint:disable-next-line\n            uID = (isNullOrUndefined(fieldData['_id'])) ? fieldData[fields.id] : fieldData['_id'];\n            // eslint-disable-next-line no-prototype-builtins\n            grpLI = (item.hasOwnProperty('isHeader') && item.isHeader)\n                ? true : false;\n        }\n        if (options && options.enableHtmlSanitizer) {\n            // eslint-disable-next-line no-self-assign\n            text = text;\n        }\n        var li = createElement('li', {\n            className: (grpLI === true ? cssClass.group : cssClass.li) + ' ' + (isNullOrUndefined(className) ? '' : className),\n            attrs: (ariaAttributes.groupItemRole !== '' && ariaAttributes.itemRole !== '' ?\n                { role: (grpLI === true ? ariaAttributes.groupItemRole : ariaAttributes.itemRole) } : {})\n        });\n        if (!isNullOrUndefined(uID) === true) {\n            li.setAttribute('data-uid', uID);\n        }\n        else {\n            li.setAttribute('data-uid', generateId());\n        }\n        if (grpLI && options && options.groupTemplate) {\n            // eslint-disable-next-line @typescript-eslint/ban-types\n            var compiledString = compileTemplate(options.groupTemplate);\n            if (componentInstance && componentInstance.getModuleName() !== \"listview\") {\n                // eslint-disable-next-line\n                var compiledElement = compiledString(item, componentInstance, 'groupTemplate', curOpt.groupTemplateID, !!curOpt.isStringTemplate, null, li);\n                if (compiledElement) {\n                    append(compiledElement, li);\n                }\n            }\n            else {\n                append(compiledString(item, componentInstance, 'groupTemplate', curOpt.groupTemplateID, !!curOpt.isStringTemplate), li);\n            }\n        }\n        else if (!grpLI && options && options.template) {\n            // eslint-disable-next-line @typescript-eslint/ban-types\n            var compiledString = compileTemplate(options.template);\n            if (componentInstance && componentInstance.getModuleName() !== 'listview') {\n                // eslint-disable-next-line\n                var compiledElement = compiledString(item, componentInstance, 'template', curOpt.templateID, !!curOpt.isStringTemplate, null, li);\n                if (compiledElement) {\n                    append(compiledElement, li);\n                }\n            }\n            else {\n                append(compiledString(item, componentInstance, 'template', curOpt.templateID, !!curOpt.isStringTemplate), li);\n            }\n        }\n        else {\n            var innerDiv = createElement('div', {\n                className: cssClass.textContent,\n                attrs: (ariaAttributes.wrapperRole !== '' ? { role: ariaAttributes.wrapperRole } : {})\n            });\n            if (dataSource && (fieldData[fields.url] || (fieldData[fields.urlAttributes] &&\n                fieldData[fields.urlAttributes].href))) {\n                innerDiv.appendChild(anchorTag(createElement, dataSource, fields, text, null, curOpt.itemNavigable));\n            }\n            else {\n                var element = createElement('span', {\n                    className: cssClass.text,\n                    attrs: (ariaAttributes.itemText !== '' ? { role: ariaAttributes.itemText } : {})\n                });\n                if (options && options.enableHtmlSanitizer) {\n                    element.innerText = text;\n                }\n                else {\n                    element.innerHTML = text;\n                }\n                innerDiv.appendChild(element);\n            }\n            li.appendChild(innerDiv);\n        }\n        return li;\n    }\n    /**\n     * Returns UL element based on the given LI element.\n     *\n     * @param  {HTMLElement[]} liElement - Specifies array of LI element.\n     *\n     * @param  {string} className? - Specifies class name that need to be added in UL element.\n     *\n     * @param  {ListBaseOptions} options? - Specifies ListBase options.\n     */\n    function generateUL(createElement, liElement, className, options) {\n        var curOpt = extend({}, defaultListBaseOptions, options);\n        var ariaAttributes = extend({}, defaultAriaAttributes, curOpt.ariaAttributes);\n        cssClass = getModuleClass(curOpt.moduleName);\n        var ulElement = createElement('ul', {\n            className: cssClass.ul + ' ' + (isNullOrUndefined(className) ? '' : className),\n            attrs: (ariaAttributes.listRole !== '' ? { role: ariaAttributes.listRole } : {})\n        });\n        append(liElement, ulElement);\n        return ulElement;\n    }\n    ListBase.generateUL = generateUL;\n    /**\n     * Returns LI element with additional DIV tag based on the given LI element.\n     *\n     * @param  {liElement} liElement - Specifies LI element.\n     *\n     * @param  {string} className? - Specifies class name that need to be added in created DIV element.\n     *\n     * @param  {ListBaseOptions} options? - Specifies ListBase options.\n     */\n    function generateIcon(createElement, liElement, className, options) {\n        var curOpt = extend({}, defaultListBaseOptions, options);\n        cssClass = getModuleClass(curOpt.moduleName);\n        // eslint-disable-next-line @typescript-eslint/ban-types\n        var expandElement = curOpt.expandIconPosition === 'Left' ? prepend : append;\n        expandElement([createElement('div', {\n                className: 'e-icons ' + curOpt.expandIconClass + ' ' +\n                    (isNullOrUndefined(className) ? '' : className)\n            })], liElement.querySelector('.' + cssClass.textContent));\n        return liElement;\n    }\n    ListBase.generateIcon = generateIcon;\n})(ListBase || (ListBase = {}));\n/**\n * Used to get dataSource item from complex data using fields.\n *\n * @param {Object} dataSource - Specifies an  JSON or String data.\n *\n * @param {FieldsMapping} fields - Fields that are mapped from the dataSource.\n */\nexport function getFieldValues(dataItem, fields) {\n    var fieldData = {};\n    if (isNullOrUndefined(dataItem) || typeof (dataItem) === 'string' || typeof (dataItem) === 'number'\n        || !isNullOrUndefined(dataItem.isHeader)) {\n        return dataItem;\n    }\n    else {\n        for (var _i = 0, _a = Object.keys(fields); _i < _a.length; _i++) {\n            var field = _a[_i];\n            var dataField = fields[field];\n            var value = !isNullOrUndefined(dataField) &&\n                typeof (dataField) === 'string' ? getValue(dataField, dataItem) : undefined;\n            if (!isNullOrUndefined(value)) {\n                fieldData[dataField] = value;\n            }\n        }\n    }\n    return fieldData;\n}\nfunction compileTemplate(template) {\n    if (template) {\n        try {\n            if (document.querySelector(template)) {\n                return compile(document.querySelector(template).innerHTML.trim());\n            }\n            else {\n                return compile(template);\n            }\n        }\n        catch (e) {\n            return compile(template);\n        }\n    }\n    return undefined;\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}